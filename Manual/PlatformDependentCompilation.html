<!DOCTYPE html><html lang="en" class="no-js">
<head>
<meta content="text/html; charset=UTF-8" http-equiv="Content-Type">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Unity - Manual: Platform Dependent Compilation</title>
<meta name="description" content="Develop once, publish everywhere! Unity is the ultimate tool for video game development, architectural visualizations, and interactive media installations - publish to the web, Windows, OS X, Wii, Xbox 360, and iPhone with many more platforms to come.">
<meta name="author" content="Unity Technologies">
<link rel="shortcut icon" href="../StaticFilesManual/images/favicons/favicon.ico">
<link rel="icon" type="image/png" href="../StaticFilesManual/images/favicons/favicon.png">
<link rel="apple-touch-icon-precomposed" sizes="152x152" href="../StaticFilesManual/images/favicons/apple-touch-icon-152x152.png">
<link rel="apple-touch-icon-precomposed" sizes="144x144" href="../StaticFilesManual/images/favicons/apple-touch-icon-144x144.png">
<link rel="apple-touch-icon-precomposed" sizes="120x120" href="../StaticFilesManual/images/favicons/apple-touch-icon-120x120.png">
<link rel="apple-touch-icon-precomposed" sizes="114x114" href="../StaticFilesManual/images/favicons/apple-touch-icon-114x114.png">
<link rel="apple-touch-icon-precomposed" sizes="72x72" href="../StaticFilesManual/images/favicons/apple-touch-icon-72x72.png">
<link rel="apple-touch-icon-precomposed" href="../StaticFilesManual/images/favicons/apple-touch-icon.png">
<meta name="msapplication-TileColor" content="#222c37">
<meta name="msapplication-TileImage" content="../StaticFilesManual/images/favicons/tileicon-144x144.png">
<script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-2854981-1']);
  _gaq.push(['_setDomainName', 'unity3d.com']);
  _gaq.push(['_trackPageview']);
  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
  </script><script type="text/javascript" src="../StaticFilesManual/js/jquery.js"></script><script type="text/javascript" src="../StaticFilesManual/js/core.js"></script><script type="text/javascript" src="../StaticFilesManual/js/highlight.js"></script><script type="text/javascript" src="docdata/toc.js"></script><script type="text/javascript" src="docdata/global_toc.js"></script><script>hljs.initHighlightingOnLoad();</script><link href="http://fonts.googleapis.com/css?family=Open+Sans:400,700,400italic" rel="stylesheet" type="text/css">
<link rel="stylesheet" type="text/css" href="../StaticFilesManual/css/core.css">
</head>
<body>
<div class="header-wrapper">
<div id="header" class="header"><div class="content">
<div class="spacer"><div class="menu">
<div class="logo"><a href="http://docs.unity3d.com"></a></div>
<div class="search-form"><form action="30_search.html" method="get" class="apisearch">
<input type="text" name="q" placeholder="Search manual..." autosave="Unity Reference" results="5" class="sbox field" id="q"><input type="submit" class="submit">
</form></div>
<ul>
<li><a href="http://docs.unity3d.com">Overview</a></li>
<li><a href="../Manual/index.html" class="selected">Manual</a></li>
<li><a href="../ScriptReference/index.html">Scripting API</a></li>
</ul>
</div></div>
<div class="more">
<div class="filler"></div>
<ul><li><a href="http://unity3d.com/">unity3d.com</a></li></ul>
</div>
</div></div>
<div class="toolbar"><div class="content"><div class="lang-switcher">
<div class="current toggle" data-target=".lang-list">
<div class="lbl">Language: <span class="b">English</span>
</div>
<div class="arrow"></div>
</div>
<div class="lang-list" style="display:none;"><ul>
<li><a href="/Manual/PlatformDependentCompilation.html">English</a></li>
<li><a href="/es/current/Manual/PlatformDependentCompilation.html">Español</a></li>
<li><a href="/ru/current/Manual/PlatformDependentCompilation.html">Русский</a></li>
</ul></div>
</div></div></div>
</div>
<div id="master-wrapper" class="master-wrapper clear">
<div id="sidebar" class="sidebar"><div class="sidebar-wrap"><div class="content"><div class="sidebar-menu"><div class="toc"><h2>Unity Manual</h2></div></div></div></div></div>
<div id="content-wrap" class="content-wrap"><div class="content-block"><div class="content">
<div class="section">
<div class="breadcrumbs clear"><ul>
<li><a href="UnityManualRestructured.html">Unity Manual</a></li>
<li><a href="ScriptingSection.html">Scripting</a></li>
<li><a href="ScriptingConcepts.html">Scripting Overview</a></li>
<li>Platform Dependent Compilation</li>
</ul></div>
<div class="mb20"><div class="nextprev clear">
<div class="icon tt left mr1" data-distance="-40|-30|top">
<span class="prev"><a href="UnderstandingAutomaticMemoryManagement.html"></a></span><div class="tip">Understanding Automatic Memory Management</div>
</div>
<div class="icon tt right" data-distance="-40|-30|top">
<span class="next"><a href="GenericFunctions.html"></a></span><div class="tip">Generic Functions</div>
</div>
</div></div>
<h1>Platform Dependent Compilation</h1>
  		        <div class="suggest">
                <a class="blue-btn sbtn">Suggest a change</a>
                <div class="suggest-wrap rel hide">
                  <div class="loading hide">
<div></div>
<div></div>
<div></div>
</div>
                  <div class="suggest-success hide">
                    <h2>Success!</h2>
                    <p>Thank you for helping us improve the quality of Unity Documentation. Although we cannot accept all submissions, we do read each suggested change from our users and will make updates where applicable.</p>
                    <a class="gray-btn sbtn close">Close</a>
                  </div>
                  <div class="suggest-failed hide">
                    <h2>Sumbission failed</h2>
                    <p>For some reason your suggested change could not be submitted. Please <a>try again</a> in a few minutes. And thank you for taking the time to help us improve the quality of Unity Documentation.</p>
                    <a class="gray-btn sbtn close">Close</a>
                  </div>
                  <div class="suggest-form clear">
                    <label for="suggest_name">Your name</label>
                    <input id="suggest_name" type="text">
                    <label for="suggest_email">Your email</label>
                    <input id="suggest_email" type="email">
                    <label for="suggest_body" class="clear">Suggestion <span class="r">*</span></label>
                    <textarea id="suggest_body" class="req"></textarea>
                    <button id="suggest_submit" class="blue-btn mr10">Submit suggestion</button>
                    <p class="mb0"><a class="cancel left lh42 cn">Cancel</a></p>
                  </div>
                </div>
              </div>
<!--BeginSwitchLink--><!--EndSwitchLink-->
<div class="clear"></div>

<p>Unity includes a feature named “Platform Dependent Compilation”. This consists of some preprocessor directives that let you <em>partition</em> your scripts to compile and execute a section of code exclusively for one of the supported platforms.</p>

<p>Furthermore, you can run this code within the Editor, so you can compile the code specifically for your mobile/console and test it in the Editor!</p>

<h2>Platform Defines</h2>

<p>The platform defines that Unity supports for your scripts are:</p>

<table>
<colgroup>
<col style="text-align:left;">
<col style="text-align:left;">
</colgroup>

<thead>
<tr>
	<th style="text-align:left;"><strong><em>Property:</em></strong></th>
	<th style="text-align:left;"><strong><em>Function:</em></strong></th>
</tr>
</thead>

<tbody>
<tr>
	<td style="text-align:left;"><span class="doc-prop">UNITY_EDITOR</span></td>
	<td style="text-align:left;">Define for calling Unity Editor scripts from your game code.</td>
</tr>
<tr>
	<td style="text-align:left;"><span class="doc-prop">UNITY_EDITOR_WIN</span></td>
	<td style="text-align:left;">Platform define for editor code on Windows.</td>
</tr>
<tr>
	<td style="text-align:left;"><span class="doc-prop">UNITY_EDITOR_OSX</span></td>
	<td style="text-align:left;">Platform define for editor code on Mac OSX.</td>
</tr>
<tr>
	<td style="text-align:left;"><span class="doc-prop">UNITY_STANDALONE_OSX</span></td>
	<td style="text-align:left;">Platform define for compiling/executing code specifically for Mac OS (This includes Universal, PPC and Intel architectures).</td>
</tr>
<tr>
	<td style="text-align:left;"><span class="doc-prop">UNITY_STANDALONE_WIN</span></td>
	<td style="text-align:left;">Use this when you want to compile/execute code for Windows stand alone applications.</td>
</tr>
<tr>
	<td style="text-align:left;"><span class="doc-prop">UNITY_STANDALONE_LINUX</span></td>
	<td style="text-align:left;">Use this when you want to compile/execute code for Linux stand alone applications.</td>
</tr>
<tr>
	<td style="text-align:left;"><span class="doc-prop">UNITY_STANDALONE</span></td>
	<td style="text-align:left;">Use this to compile/execute code for any standalone platform (Mac, Windows or Linux).</td>
</tr>
<tr>
	<td style="text-align:left;"><span class="doc-prop">UNITY_WEBPLAYER</span></td>
	<td style="text-align:left;">Platform define for web player content (this includes Windows and Mac Web player executables).</td>
</tr>
<tr>
	<td style="text-align:left;"><span class="doc-prop">UNITY_WII</span></td>
	<td style="text-align:left;">Platform define for compiling/executing code for the Wii console.</td>
</tr>
<tr>
	<td style="text-align:left;"><span class="doc-prop">UNITY_IOS</span></td>
	<td style="text-align:left;">Platform define for compiling/executing code for the iOS platform.</td>
</tr>
<tr>
	<td style="text-align:left;"><span class="doc-prop">UNITY_IPHONE</span></td>
	<td style="text-align:left;">Deprecated. Use <span class="doc-prop">UNITY_IOS</span> instead.</td>
</tr>
<tr>
	<td style="text-align:left;"><span class="doc-prop">UNITY_ANDROID</span></td>
	<td style="text-align:left;">Platform define for the Android platform.</td>
</tr>
<tr>
	<td style="text-align:left;"><span class="doc-prop">UNITY_PS3</span></td>
	<td style="text-align:left;">Platform define for running PlayStation 3 code.</td>
</tr>
<tr>
	<td style="text-align:left;"><span class="doc-prop">UNITY_PS4</span></td>
	<td style="text-align:left;">Platform define for running PlayStation 4 code.</td>
</tr>
<tr>
	<td style="text-align:left;"><span class="doc-prop">UNITY_XBOX360</span></td>
	<td style="text-align:left;">Platform define for executing Xbox 360 code.</td>
</tr>
<tr>
	<td style="text-align:left;"><span class="doc-prop">UNITY_XBOXONE</span></td>
	<td style="text-align:left;">Platform define for executing Xbox One code.</td>
</tr>
<tr>
	<td style="text-align:left;"><span class="doc-prop">UNITY_BLACKBERRY</span></td>
	<td style="text-align:left;">Platform define for a Blackberry10 device.</td>
</tr>
<tr>
	<td style="text-align:left;"><span class="doc-prop">UNITY_WP8</span></td>
	<td style="text-align:left;">Platform define for Windows Phone 8.</td>
</tr>
<tr>
	<td style="text-align:left;"><span class="doc-prop">UNITY_METRO</span></td>
	<td style="text-align:left;">Platform define for Windows Store Apps (additionally <span class="doc-prop">NETFX_CORE</span> is defined when compiling C# files against .NET Core).</td>
</tr>
<tr>
	<td style="text-align:left;"><span class="doc-prop">UNITY_WINRT</span></td>
	<td style="text-align:left;">Equivalent to <span class="doc-prop">UNITY_WP8</span> |<span class="doc-prop">UNITY_METRO</span>
</td>
</tr>
<tr>
	<td style="text-align:left;"><span class="doc-prop">UNITY_WEBGL</span></td>
	<td style="text-align:left;">Platform define for WebGL.</td>
</tr>
</tbody>
</table>

<p>Also you can compile code selectively depending on the version of the engine you are working on. Currently the supported ones are:</p>

<table>
<colgroup>
<col style="text-align:left;">
<col style="text-align:left;">
</colgroup>

<thead>
<tr>
	<th style="text-align:left;" colspan="2"></th>
</tr>
</thead>

<tbody>
<tr>
	<td style="text-align:left;"><span class="doc-prop">UNITY_2_6</span></td>
	<td style="text-align:left;">Platform define for the major version of Unity 2.6.</td>
</tr>
<tr>
	<td style="text-align:left;"><span class="doc-prop">UNITY_2_6_1</span></td>
	<td style="text-align:left;">Platform define for specific version 2.6.1.</td>
</tr>
<tr>
	<td style="text-align:left;"><span class="doc-prop">UNITY_3_0</span></td>
	<td style="text-align:left;">Platform define for the major version of Unity 3.0.</td>
</tr>
<tr>
	<td style="text-align:left;"><span class="doc-prop">UNITY_3_0_0</span></td>
	<td style="text-align:left;">Platform define for specific version 3.0.0.</td>
</tr>
<tr>
	<td style="text-align:left;"><span class="doc-prop">UNITY_3_1</span></td>
	<td style="text-align:left;">Platform define for major version of Unity 3.1.</td>
</tr>
<tr>
	<td style="text-align:left;"><span class="doc-prop">UNITY_3_2</span></td>
	<td style="text-align:left;">Platform define for major version of Unity 3.2.</td>
</tr>
<tr>
	<td style="text-align:left;"><span class="doc-prop">UNITY_3_3</span></td>
	<td style="text-align:left;">Platform define for major version of Unity 3.3.</td>
</tr>
<tr>
	<td style="text-align:left;"><span class="doc-prop">UNITY_3_4</span></td>
	<td style="text-align:left;">Platform define for major version of Unity 3.4.</td>
</tr>
<tr>
	<td style="text-align:left;"><span class="doc-prop">UNITY_3_5</span></td>
	<td style="text-align:left;">Platform define for major version of Unity 3.5.</td>
</tr>
<tr>
	<td style="text-align:left;"><span class="doc-prop">UNITY_4_0</span></td>
	<td style="text-align:left;">Platform define for major version of Unity 4.0.</td>
</tr>
<tr>
	<td style="text-align:left;"><span class="doc-prop">UNITY_4_0_1</span></td>
	<td style="text-align:left;">Platform define for specific version 4.0.1.</td>
</tr>
<tr>
	<td style="text-align:left;"><span class="doc-prop">UNITY_4_1</span></td>
	<td style="text-align:left;">Platform define for major version of Unity 4.1.</td>
</tr>
<tr>
	<td style="text-align:left;"><span class="doc-prop">UNITY_4_2</span></td>
	<td style="text-align:left;">Platform define for major version of Unity 4.2.</td>
</tr>
<tr>
	<td style="text-align:left;"><span class="doc-prop">UNITY_4_3</span></td>
	<td style="text-align:left;">Platform define for major version of Unity 4.3.</td>
</tr>
<tr>
	<td style="text-align:left;"><span class="doc-prop">UNITY_4_5</span></td>
	<td style="text-align:left;">Platform define for major version of Unity 4.5.</td>
</tr>
<tr>
	<td style="text-align:left;"><span class="doc-prop">UNITY_4_6</span></td>
	<td style="text-align:left;">Platform define for major version of Unity 4.6.</td>
</tr>
<tr>
	<td style="text-align:left;"><span class="doc-prop">UNITY_5_0</span></td>
	<td style="text-align:left;">Platform define for major version of Unity 5.0.</td>
</tr>
</tbody>
</table>

<p>
<strong>Note:</strong> For versions before 2.6.0 there are no platform defines as this feature was first introduced in that version.</p>

<h2>Testing precompiled code.</h2>

<p>We are going to show a small example of how to use the precompiled code. This will simply print a message that depends on the platform you have selected to build your target.</p>

<p>First of all, select the platform you want to test your code against by clicking on <span class="doc-menu">File <strong>-&gt;</strong> Build Settings</span>. This will bring the build settings window to select your target platform.</p>

<figure>
<img src="../uploads/Main/BuildSettings.png" alt="Build Settings window with the WebPlayer Selected as Target platform.">
<figcaption>Build Settings window with the WebPlayer Selected as Target platform.</figcaption></figure>

<p>Select the platform you want to test your precompiled code against and press the <span class="doc-menu">Switch Editor</span> button to tell Unity which platform you are targeting.</p>

<p>Create a script and copy/paste this code:-</p>

<pre><code>// JS
function Awake() {
  #if UNITY_EDITOR
    Debug.Log(&quot;Unity Editor&quot;);
  #endif
    
  #if UNITY_IPHONE
    Debug.Log(&quot;Iphone&quot;);
  #endif

  #if UNITY_STANDALONE_OSX
    Debug.Log(&quot;Stand Alone OSX&quot;);
  #endif

  #if UNITY_STANDALONE_WIN
    Debug.Log(&quot;Stand Alone Windows&quot;);
  #endif    
}


// C#
using UnityEngine;
using System.Collections;

public class PlatformDefines : MonoBehaviour {
  void Start () {

    #if UNITY_EDITOR
      Debug.Log(&quot;Unity Editor&quot;);
    #endif
    
    #if UNITY_IPHONE
      Debug.Log(&quot;Iphone&quot;);
    #endif

    #if UNITY_STANDALONE_OSX
    Debug.Log(&quot;Stand Alone OSX&quot;);
    #endif

    #if UNITY_STANDALONE_WIN
      Debug.Log(&quot;Stand Alone Windows&quot;);
    #endif

  }          
}


</code></pre>

<p>Then, depending on which platform you selected, one of the messages will get printed on the Unity console when you press play.</p>

<p>Note that in C# you can use a <code>CONDITIONAL</code> attribute which is a more clean, less error-prone way of stripping out functions, see <a href="http://msdn.microsoft.com/en-us/library/4xssyw96(v=vs.90).aspx">http://msdn.microsoft.com/en-us/library/4xssyw96(v=vs.90).aspx</a>.</p>

<p>In addition to the basic <em>#if</em> compiler directive, you can also use a multiway test in C# and JavaScript:-</p>

<pre><code>
#if UNITY_EDITOR
    Debug.Log(&quot;Unity Editor&quot;);

#elif UNITY_IPHONE
    Debug.Log(&quot;Unity iPhone&quot;);

#else
    Debug.Log(&quot;Any other platform&quot;);

#endif


</code></pre>

<h2>Platform Custom Defines</h2>

<p>It is also possible to add to the built-in selection of defines by supplying your own. In the <span class="doc-keyword">Other Settings</span> panel of the <a href="class-PlayerSettings.html">Player Settings</a>, you will see the Scripting Define Symbols textbox.</p>

<figure>
<img src="../uploads/Main/ScriptDefines.png" alt="">
<figcaption></figcaption></figure>

<p>Here, you can enter the names of the symbols you want to define for that particular platform, separated by semicolons. These symbols can then be used as the conditions for <em>#if</em> directives just like the built-in ones.</p>

<h2>Global Custom Defines</h2>

<p>You can define your own preprocessor directives to control which code gets included when compiling. To do this you must add a text file with the extra directives to the “Assets/” folder. The name of the file depends on the language you are using, and the extension is <strong>.rsp</strong>:</p>

<table>
<colgroup>
<col style="text-align:left;">
<col style="text-align:left;">
</colgroup>

<thead>
<tr>
	<th style="text-align:left;" colspan="2"></th>
</tr>
</thead>

<tbody>
<tr>
	<td style="text-align:left;">C#</td>
	<td style="text-align:left;">&lt;Project Path&gt;/Assets/smcs.rsp</td>
</tr>
<tr>
	<td style="text-align:left;">C# - Editor Scripts</td>
	<td style="text-align:left;">&lt;Project Path&gt;/Assets/gmcs.rsp</td>
</tr>
<tr>
	<td style="text-align:left;">UnityScript</td>
	<td style="text-align:left;">&lt;Project Path&gt;/Assets/us.rsp</td>
</tr>
</tbody>
</table>

<p>As an example, if you include the single line “<code>-define:UNITY_DEBUG</code>” in your <strong>smcs.rsp</strong> file the define <code>UNITY_DEBUG</code> will exist as a global define for C# scripts, except for Editor scripts.</p>

<p>Every time you make changes to .rsp files you will need to recompile for them to be effective. You can do this by updating or reimporting a single script (.js or .cs) file.</p>

<p>If you want to modify only global defines, you should use <span class="doc-keyword">Scripting Define Symbols</span> in <a href="class-PlayerSettings.html">Player Settings</a>, because this will cover all the compilers. If you choose the .rsp files instead, you’ll have to provide one file for every compiler Unity uses, and you won’t know when one or another compiler is used.</p>

<p>The use of the .rsp files is described in the help section of the <strong>smcs</strong> application which is included in the Editor installation folder. You can get more information by running “<code>smcs -help</code>”. Also, bear in mind the .rsp file needs to match the compiler being invoked. For example, when targeting the web player, <strong>smcs</strong> is used with smcs.rsp; when targeting standalone players, <strong>gmcs</strong> is used with gmcs.rsp; when targeting MS compiler, <strong>csc</strong> is used with csc.rsp; and so on.</p>
<div class="nextprev clear">
<div class="icon tt left mr1" data-distance="-40|-30|top">
<span class="prev"><a href="UnderstandingAutomaticMemoryManagement.html"></a></span><div class="tip">Understanding Automatic Memory Management</div>
</div>
<div class="icon tt right" data-distance="-40|-30|top">
<span class="next"><a href="GenericFunctions.html"></a></span><div class="tip">Generic Functions</div>
</div>
</div>
</div>
<div class="footer-wrapper"><div class="footer clear">
<div class="copy">Copyright © 2014 Unity Technologies</div>
<div class="menu">
<a href="http://unity3d.com/learn">Learn</a><a href="http://unity3d.com/community">Community</a><a href="http://unity3d.com/asset-store">Asset Store</a><a href="https://store.unity3d.com">Buy</a><a href="http://unity3d.com/unity/download">Download</a>
</div>
</div></div>
</div></div></div>
</div>
</body>
</html>
