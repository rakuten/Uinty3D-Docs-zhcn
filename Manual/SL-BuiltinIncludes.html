<!DOCTYPE html><html lang="en" class="no-js">
<head>
<meta content="text/html; charset=UTF-8" http-equiv="Content-Type">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Unity - Manual:  Built-in shader include files</title>
<meta name="description" content="Develop once, publish everywhere! Unity is the ultimate tool for video game development, architectural visualizations, and interactive media installations - publish to the web, Windows, OS X, Wii, Xbox 360, and iPhone with many more platforms to come.">
<meta name="author" content="Unity Technologies">
<link rel="shortcut icon" href="../StaticFilesManual/images/favicons/favicon.ico">
<link rel="icon" type="image/png" href="../StaticFilesManual/images/favicons/favicon.png">
<link rel="apple-touch-icon-precomposed" sizes="152x152" href="../StaticFilesManual/images/favicons/apple-touch-icon-152x152.png">
<link rel="apple-touch-icon-precomposed" sizes="144x144" href="../StaticFilesManual/images/favicons/apple-touch-icon-144x144.png">
<link rel="apple-touch-icon-precomposed" sizes="120x120" href="../StaticFilesManual/images/favicons/apple-touch-icon-120x120.png">
<link rel="apple-touch-icon-precomposed" sizes="114x114" href="../StaticFilesManual/images/favicons/apple-touch-icon-114x114.png">
<link rel="apple-touch-icon-precomposed" sizes="72x72" href="../StaticFilesManual/images/favicons/apple-touch-icon-72x72.png">
<link rel="apple-touch-icon-precomposed" href="../StaticFilesManual/images/favicons/apple-touch-icon.png">
<meta name="msapplication-TileColor" content="#222c37">
<meta name="msapplication-TileImage" content="../StaticFilesManual/images/favicons/tileicon-144x144.png">
<script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-2854981-1']);
  _gaq.push(['_setDomainName', 'unity3d.com']);
  _gaq.push(['_trackPageview']);
  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
  </script><script type="text/javascript" src="../StaticFilesManual/js/jquery.js"></script><script type="text/javascript" src="../StaticFilesManual/js/core.js"></script><script type="text/javascript" src="../StaticFilesManual/js/highlight.js"></script><script type="text/javascript" src="docdata/toc.js"></script><script type="text/javascript" src="docdata/global_toc.js"></script><script>hljs.initHighlightingOnLoad();</script><link href="http://fonts.googleapis.com/css?family=Open+Sans:400,700,400italic" rel="stylesheet" type="text/css">
<link rel="stylesheet" type="text/css" href="../StaticFilesManual/css/core.css">
</head>
<body>
<div class="header-wrapper">
<div id="header" class="header"><div class="content">
<div class="spacer"><div class="menu">
<div class="logo"><a href="http://docs.unity3d.com"></a></div>
<div class="search-form"><form action="30_search.html" method="get" class="apisearch">
<input type="text" name="q" placeholder="Search manual..." autosave="Unity Reference" results="5" class="sbox field" id="q"><input type="submit" class="submit">
</form></div>
<ul>
<li><a href="http://docs.unity3d.com">Overview</a></li>
<li><a href="../Manual/index.html" class="selected">Manual</a></li>
<li><a href="../ScriptReference/index.html">Scripting API</a></li>
</ul>
</div></div>
<div class="more">
<div class="filler"></div>
<ul><li><a href="http://unity3d.com/">unity3d.com</a></li></ul>
</div>
</div></div>
<div class="toolbar"><div class="content"><div class="lang-switcher">
<div class="current toggle" data-target=".lang-list">
<div class="lbl">Language: <span class="b">English</span>
</div>
<div class="arrow"></div>
</div>
<div class="lang-list" style="display:none;"><ul>
<li><a href="/Manual/SL-BuiltinIncludes.html">English</a></li>
<li><a href="/es/current/Manual/SL-BuiltinIncludes.html">Español</a></li>
<li><a href="/ru/current/Manual/SL-BuiltinIncludes.html">Русский</a></li>
</ul></div>
</div></div></div>
</div>
<div id="master-wrapper" class="master-wrapper clear">
<div id="sidebar" class="sidebar"><div class="sidebar-wrap"><div class="content"><div class="sidebar-menu"><div class="toc"><h2>Unity Manual</h2></div></div></div></div></div>
<div id="content-wrap" class="content-wrap"><div class="content-block"><div class="content">
<div class="section">
<div class="breadcrumbs clear"><ul>
<li><a href="UnityManualRestructured.html">Unity Manual</a></li>
<li><a href="Graphics.html">Graphics</a></li>
<li><a href="GraphicsReference.html">Graphics Reference</a></li>
<li><a href="SL-Reference.html"> Shader Reference</a></li>
<li><a href="SL-ShaderPrograms.html">Writing vertex and fragment shaders</a></li>
<li> Built-in shader include files</li>
</ul></div>
<div class="mb20"><div class="nextprev clear">
<div class="icon tt left mr1" data-distance="-40|-30|top">
<span class="prev"><a href="SL-VertexProgramInputs.html"></a></span><div class="tip">Providing vertex data to vertex programs</div>
</div>
<div class="icon tt right" data-distance="-40|-30|top">
<span class="next"><a href="SL-BuiltinMacros.html"></a></span><div class="tip">Predefined shader preprocessor macros</div>
</div>
</div></div>
<h1>Built-in shader include files</h1>
  		        <div class="suggest">
                <a class="blue-btn sbtn">Suggest a change</a>
                <div class="suggest-wrap rel hide">
                  <div class="loading hide">
<div></div>
<div></div>
<div></div>
</div>
                  <div class="suggest-success hide">
                    <h2>Success!</h2>
                    <p>Thank you for helping us improve the quality of Unity Documentation. Although we cannot accept all submissions, we do read each suggested change from our users and will make updates where applicable.</p>
                    <a class="gray-btn sbtn close">Close</a>
                  </div>
                  <div class="suggest-failed hide">
                    <h2>Sumbission failed</h2>
                    <p>For some reason your suggested change could not be submitted. Please <a>try again</a> in a few minutes. And thank you for taking the time to help us improve the quality of Unity Documentation.</p>
                    <a class="gray-btn sbtn close">Close</a>
                  </div>
                  <div class="suggest-form clear">
                    <label for="suggest_name">Your name</label>
                    <input id="suggest_name" type="text">
                    <label for="suggest_email">Your email</label>
                    <input id="suggest_email" type="email">
                    <label for="suggest_body" class="clear">Suggestion <span class="r">*</span></label>
                    <textarea id="suggest_body" class="req"></textarea>
                    <button id="suggest_submit" class="blue-btn mr10">Submit suggestion</button>
                    <p class="mb0"><a class="cancel left lh42 cn">Cancel</a></p>
                  </div>
                </div>
              </div>
<!--BeginSwitchLink--><!--EndSwitchLink-->
<div class="clear"></div>

<p>Unity contains several files that can be used by your <a href="SL-ShaderPrograms.html">shader programs</a> to bring in predefined variables and helper functions. This is done by the standard <code>#include</code> directive, e.g.:</p>

<pre><code>CGPROGRAM
// ...
#include &quot;UnityCG.cginc&quot;
// ...
ENDCG
</code></pre>

<p>Shader include files in Unity are with <code>.cginc</code> extension, and the built-in ones are:</p>

<ul>
<li>
<code>HLSLSupport.cginc</code> - <em>(automatically included)</em> Helper macros and definitions for cross-platform shader compilation.</li>
<li>
<code>UnityShaderVariables.cginc</code> - <em>(automatically included)</em> Commonly used global variables.</li>
<li>
<code>UnityCG.cginc</code> - commonly used helper functions.</li>
<li>
<code>AutoLight.cginc</code> - lighting &amp; shadowing functionality, e.g. <a href="SL-SurfaceShaders.html">surface shaders</a> use this file internally.</li>
<li>
<code>Lighting.cginc</code> - standard <a href="SL-SurfaceShaders.html">surface shader</a> lighting models; automatically included when you’re writing surface shaders.</li>
<li>
<code>TerrainEngine.cginc</code> - helper functions for Terrain &amp; Vegetation shaders.</li>
</ul>

<p>These files are found inside Unity application (<span class="doc-menu">{unity install path}/Data/CGIncludes/UnityCG.cginc</span> on Windows, <span class="doc-menu">/Applications/Unity/Unity.app/Contents/CGIncludes/UnityCG.cginc</span> on Mac), if you want to take a look at what exactly is done in any of the helper code.</p>

<h2>HLSLSupport.cginc</h2>

<p>This file is <em>automatically included</em> when compiling shaders. It declares various <a href="SL-BuiltinMacros.html">preprocessor macros</a> to aid in multi-platform shader development.</p>

<h2>UnityShaderVariables.cginc</h2>

<p>This file is <em>automatically included</em> when compiling shaders. It declares various <a href="SL-UnityShaderVariables.html">built-in global variables</a> that are commonly used in shaders.</p>

<h2>UnityCG.cginc</h2>

<p>This file is often included in Unity shaders to bring in many helper functions.</p>

<h4>Data structures in UnityCG.cginc</h4>

<ul>
<li>struct <code>appdata_base</code>: vertex shader input with position, normal, one texture coordinate.</li>
<li>struct <code>appdata_tan</code>: vertex shader input with position, normal, tangent, one texture coordinate.</li>
<li>struct <code>appdata_full</code>: vertex shader input with position, normal, tangent, vertex color and two texture coordinates.</li>
<li>struct <code>appdata_img</code>: vertex shader input with position and one texture coordinate.</li>
</ul>

<h4>Generic helper functions in UnityCG.cginc</h4>

<ul>
<li>
<code>float3 WorldSpaceViewDir (float4 v)</code> - returns world space direction (not normalized) from given object space vertex position towards the camera.</li>
<li>
<code>float3 ObjSpaceViewDir (float4 v)</code> - returns object space direction (not normalized) from given object space vertex position towards the camera.</li>
<li>
<code>float2 ParallaxOffset (half h, half height, half3 viewDir)</code> - calculates UV offset for parallax normal mapping.</li>
<li>
<code>fixed Luminance (fixed3 c)</code> - converts color to luminance (grayscale).</li>
<li>
<code>fixed3 DecodeLightmap (fixed4 color)</code> - decodes color from Unity lightmap (RGBM or dLDR depending on platform).</li>
<li>
<code>float4 EncodeFloatRGBA (float v)</code> - encodes [0..1) range float into RGBA color, for storage in low precision render target.</li>
<li>
<code>float DecodeFloatRGBA (float4 enc)</code> - decodes RGBA color into a float.</li>
<li>Similarly, <code>float2 EncodeFloatRG (float v)</code> and <code>float DecodeFloatRG (float2 enc)</code> that use two color channels.</li>
<li>
<code>float2 EncodeViewNormalStereo (float3 n)</code> - encodes view space normal into two numbers in 0..1 range.</li>
<li>
<code>float3 DecodeViewNormalStereo (float4 enc4)</code> - decodes view space normal from enc4.xy.</li>
</ul>

<h4>Forward rendering helper functions in UnityCG.cginc</h4>

<p>These functions are only useful when using forward rendering (ForwardBase or ForwardAdd pass types).</p>

<ul>
<li>
<code>float3 WorldSpaceLightDir (float4 v)</code> - computes world space direction (not normalized) to light, given object space vertex position.</li>
<li>
<code>float3 ObjSpaceLightDir (float4 v)</code> - computes object space direction (not normalized) to light, given object space vertex position.</li>
<li>
<code>float3 Shade4PointLights (...)</code> - computes illumination from four point lights, with light data tightly packed into vectors. Forward rendering uses this to compute per-vertex lighting.</li>
</ul>

<h4>Vertex-lit helper functions in UnityCG.cginc</h4>

<p>These functions are only useful when using per-vertex lit shaders (“Vertex” pass type).</p>

<ul>
<li>
<code>float3 ShadeVertexLights (float4 vertex, float3 normal)</code> - computes illumination from four per-vertex lights and ambient, given object space position &amp; normal.</li>
</ul>
<div class="nextprev clear">
<div class="icon tt left mr1" data-distance="-40|-30|top">
<span class="prev"><a href="SL-VertexProgramInputs.html"></a></span><div class="tip">Providing vertex data to vertex programs</div>
</div>
<div class="icon tt right" data-distance="-40|-30|top">
<span class="next"><a href="SL-BuiltinMacros.html"></a></span><div class="tip">Predefined shader preprocessor macros</div>
</div>
</div>
</div>
<div class="footer-wrapper"><div class="footer clear">
<div class="copy">Copyright © 2014 Unity Technologies</div>
<div class="menu">
<a href="http://unity3d.com/learn">Learn</a><a href="http://unity3d.com/community">Community</a><a href="http://unity3d.com/asset-store">Asset Store</a><a href="https://store.unity3d.com">Buy</a><a href="http://unity3d.com/unity/download">Download</a>
</div>
</div></div>
</div></div></div>
</div>
</body>
</html>
