<!DOCTYPE html><html lang="en" class="no-js">
<head>
<meta content="text/html; charset=UTF-8" http-equiv="Content-Type">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Unity - Manual: Unity's Rendering Pipeline</title>
<meta name="description" content="Develop once, publish everywhere! Unity is the ultimate tool for video game development, architectural visualizations, and interactive media installations - publish to the web, Windows, OS X, Wii, Xbox 360, and iPhone with many more platforms to come.">
<meta name="author" content="Unity Technologies">
<link rel="shortcut icon" href="../StaticFilesManual/images/favicons/favicon.ico">
<link rel="icon" type="image/png" href="../StaticFilesManual/images/favicons/favicon.png">
<link rel="apple-touch-icon-precomposed" sizes="152x152" href="../StaticFilesManual/images/favicons/apple-touch-icon-152x152.png">
<link rel="apple-touch-icon-precomposed" sizes="144x144" href="../StaticFilesManual/images/favicons/apple-touch-icon-144x144.png">
<link rel="apple-touch-icon-precomposed" sizes="120x120" href="../StaticFilesManual/images/favicons/apple-touch-icon-120x120.png">
<link rel="apple-touch-icon-precomposed" sizes="114x114" href="../StaticFilesManual/images/favicons/apple-touch-icon-114x114.png">
<link rel="apple-touch-icon-precomposed" sizes="72x72" href="../StaticFilesManual/images/favicons/apple-touch-icon-72x72.png">
<link rel="apple-touch-icon-precomposed" href="../StaticFilesManual/images/favicons/apple-touch-icon.png">
<meta name="msapplication-TileColor" content="#222c37">
<meta name="msapplication-TileImage" content="../StaticFilesManual/images/favicons/tileicon-144x144.png">
<script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-2854981-1']);
  _gaq.push(['_setDomainName', 'unity3d.com']);
  _gaq.push(['_trackPageview']);
  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
  </script><script type="text/javascript" src="../StaticFilesManual/js/jquery.js"></script><script type="text/javascript" src="../StaticFilesManual/js/core.js"></script><script type="text/javascript" src="../StaticFilesManual/js/highlight.js"></script><script type="text/javascript" src="docdata/toc.js"></script><script type="text/javascript" src="docdata/global_toc.js"></script><script>hljs.initHighlightingOnLoad();</script><link href="http://fonts.googleapis.com/css?family=Open+Sans:400,700,400italic" rel="stylesheet" type="text/css">
<link rel="stylesheet" type="text/css" href="../StaticFilesManual/css/core.css">
</head>
<body>
<div class="header-wrapper">
<div id="header" class="header"><div class="content">
<div class="spacer"><div class="menu">
<div class="logo"><a href="http://docs.unity3d.com"></a></div>
<div class="search-form"><form action="30_search.html" method="get" class="apisearch">
<input type="text" name="q" placeholder="Search manual..." autosave="Unity Reference" results="5" class="sbox field" id="q"><input type="submit" class="submit">
</form></div>
<ul>
<li><a href="http://docs.unity3d.com">Overview</a></li>
<li><a href="../Manual/index.html" class="selected">Manual</a></li>
<li><a href="../ScriptReference/index.html">Scripting API</a></li>
</ul>
</div></div>
<div class="more">
<div class="filler"></div>
<ul><li><a href="http://unity3d.com/">unity3d.com</a></li></ul>
</div>
</div></div>
<div class="toolbar"><div class="content"><div class="lang-switcher">
<div class="current toggle" data-target=".lang-list">
<div class="lbl">Language: <span class="b">English</span>
</div>
<div class="arrow"></div>
</div>
<div class="lang-list" style="display:none;"><ul>
<li><a href="/Manual/SL-RenderPipeline.html">English</a></li>
<li><a href="/es/current/Manual/SL-RenderPipeline.html">Español</a></li>
<li><a href="/ru/current/Manual/SL-RenderPipeline.html">Русский</a></li>
</ul></div>
</div></div></div>
</div>
<div id="master-wrapper" class="master-wrapper clear">
<div id="sidebar" class="sidebar"><div class="sidebar-wrap"><div class="content"><div class="sidebar-menu"><div class="toc"><h2>Unity Manual</h2></div></div></div></div></div>
<div id="content-wrap" class="content-wrap"><div class="content-block"><div class="content">
<div class="section">
<div class="breadcrumbs clear"><ul>
<li><a href="UnityManualRestructured.html">Unity Manual</a></li>
<li><a href="Graphics.html">Graphics</a></li>
<li><a href="GraphicsReference.html">Graphics Reference</a></li>
<li><a href="SL-Reference.html"> Shader Reference</a></li>
<li><a href="SL-AdvancedTopics.html">Advanced ShaderLab topics</a></li>
<li>Unity's Rendering Pipeline</li>
</ul></div>
<div class="mb20"><div class="nextprev clear">
<div class="icon tt left mr1" data-distance="-40|-30|top">
<span class="prev"><a href="SL-AdvancedTopics.html"></a></span><div class="tip">Advanced ShaderLab topics</div>
</div>
<div class="icon tt right" data-distance="-40|-30|top">
<span class="next"><a href="SL-ShaderPerformance.html"></a></span><div class="tip">Performance Tips when Writing Shaders</div>
</div>
</div></div>
<h1>Unity’s Rendering Pipeline</h1>
  		        <div class="suggest">
                <a class="blue-btn sbtn">Suggest a change</a>
                <div class="suggest-wrap rel hide">
                  <div class="loading hide">
<div></div>
<div></div>
<div></div>
</div>
                  <div class="suggest-success hide">
                    <h2>Success!</h2>
                    <p>Thank you for helping us improve the quality of Unity Documentation. Although we cannot accept all submissions, we do read each suggested change from our users and will make updates where applicable.</p>
                    <a class="gray-btn sbtn close">Close</a>
                  </div>
                  <div class="suggest-failed hide">
                    <h2>Sumbission failed</h2>
                    <p>For some reason your suggested change could not be submitted. Please <a>try again</a> in a few minutes. And thank you for taking the time to help us improve the quality of Unity Documentation.</p>
                    <a class="gray-btn sbtn close">Close</a>
                  </div>
                  <div class="suggest-form clear">
                    <label for="suggest_name">Your name</label>
                    <input id="suggest_name" type="text">
                    <label for="suggest_email">Your email</label>
                    <input id="suggest_email" type="email">
                    <label for="suggest_body" class="clear">Suggestion <span class="r">*</span></label>
                    <textarea id="suggest_body" class="req"></textarea>
                    <button id="suggest_submit" class="blue-btn mr10">Submit suggestion</button>
                    <p class="mb0"><a class="cancel left lh42 cn">Cancel</a></p>
                  </div>
                </div>
              </div>
<!--BeginSwitchLink--><!--EndSwitchLink-->
<div class="clear"></div>

<p>Shaders define both how an object looks by itself (its material properties) and how it reacts to the light. Because lighting calculations must be built into the shader, and there are many possible light &amp; shadow types, writing quality shaders that “just work” would be an involved task. To make it easier, Unity has <a href="SL-SurfaceShaders.html">Surface Shaders</a>, where all the lighting, shadowing, lightmapping, forward vs. deferred rendering things are taken care of automatically.</p>

<p>This document describes the pecularities of Unity’s lighting &amp; rendering pipeline and what happens behind the scenes of <a href="SL-SurfaceShaders.html">Surface Shaders</a>.</p>

<h2>Rendering Paths</h2>

<p>How lighting is applied and which <a href="SL-Pass.html">Passes</a> of the shader are used depends on which <a href="RenderingPaths.html">Rendering Path</a> is used. Each pass in a shader communicates its lighting type via <a href="SL-PassTags.html">Pass Tags</a>.</p>

<ul>
<li>In <a href="RenderTech-ForwardRendering.html">Forward Rendering</a>, <code>ForwardBase</code> and <code>ForwardAdd</code> passes are used.</li>
<li>In <a href="RenderTech-DeferredShading.html">Deferred Shading</a>, <code>Deferred</code> pass is used.</li>
<li>In <a href="RenderTech-DeferredLighting.html">legacy Deferred Lighting</a>, <code>PrepassBase</code> and <code>PrepassFinal</code> passes are used.</li>
<li>In <a href="RenderTech-VertexLit.html">legacy Vertex Lit</a>, <code>Vertex</code>, <code>VertexLMRGBM</code> and <code>VertexLM</code> passes are used.</li>
<li>In any of the above, to render <a href="ShadowOverview.html">Shadows</a> or a depth texture, <code>ShadowCaster</code> pass is used.</li>
</ul>

<h2>Forward Rendering path</h2>

<p>
<code>ForwardBase</code> pass renders ambient, lightmaps, main directional light and not important (vertex/SH) lights at once. <code>ForwardAdd</code> pass is used for any additive per-pixel lights; one invocation per object illuminated by such light is done. See <a href="RenderTech-ForwardRendering.html">Forward Rendering</a> for details.</p>

<p>If forward rendering is used, but a shader does not have forward-suitable passes (i.e. neither <code>ForwardBase</code> nor <code>ForwardAdd</code> pass types are present), then that object is rendered just like it would in Vertex Lit path, see below.</p>

<h2>Deferred Shading path</h2>

<p>
<code>Deferred</code> pass renders all information needed for lighting (in built-in shaders: diffuse color, specular color, smoothness,
world space normal, emission). It also adds lightmaps, reflection probes and ambient lighting into the emission channel. See <a href="RenderTech-DeferredShading.html">Deferred Shading</a> for details.</p>

<h2>Legacy Deferred Lighting path</h2>

<p>
<code>PrepassBase</code> pass renders normals &amp; specular exponent; <code>PrepassFinal</code> pass renders final color by combining textures, lighting &amp; emissive material properties. All regular in-scene lighting is done separately in screen-space. See <a href="RenderTech-DeferredLighting.html">Deferred Lighting</a> for details.</p>

<h2>Legacy Vertex Lit Rendering path</h2>

<p>Since vertex lighting is most often used on platforms that do not support programmable shaders, Unity can’t create multiple shader variants internally to handle lightmapped vs. non-lightmapped cases. So to handle lightmapped and non-lightmapped objects, multiple passes have to be written explicitly. </p>

<ul>
<li>
<code>Vertex</code> pass is used for non-lightmapped objects. All lights are rendered at once, using a fixed function OpenGL/Direct3D lighting model (<a href="http://en.wikipedia.org/wiki/Blinn-Phong_shading">Blinn-Phong</a>)</li>
<li>
<code>VertexLMRGBM</code> pass is used for lightmapped objects, when lightmaps are RGBM encoded (PC and consoles). No realtime lighting is applied; pass is expected to combine textures with a lightmap.</li>
<li>
<code>VertexLMM</code> pass is used for lightmapped objects, when lightmaps are double-LDR encoded (mobile platforms). No realtime lighting is applied; pass is expected to combine textures with a lightmap.</li>
</ul>

<h2>See Also</h2>

<ul>
<li>
<a href="GraphicsCommandBuffers.html">Graphics Command Buffers</a> for how to extend Unity’s rendering pipeline.</li>
</ul>
<div class="nextprev clear">
<div class="icon tt left mr1" data-distance="-40|-30|top">
<span class="prev"><a href="SL-AdvancedTopics.html"></a></span><div class="tip">Advanced ShaderLab topics</div>
</div>
<div class="icon tt right" data-distance="-40|-30|top">
<span class="next"><a href="SL-ShaderPerformance.html"></a></span><div class="tip">Performance Tips when Writing Shaders</div>
</div>
</div>
</div>
<div class="footer-wrapper"><div class="footer clear">
<div class="copy">Copyright © 2014 Unity Technologies</div>
<div class="menu">
<a href="http://unity3d.com/learn">Learn</a><a href="http://unity3d.com/community">Community</a><a href="http://unity3d.com/asset-store">Asset Store</a><a href="https://store.unity3d.com">Buy</a><a href="http://unity3d.com/unity/download">Download</a>
</div>
</div></div>
</div></div></div>
</div>
</body>
</html>
