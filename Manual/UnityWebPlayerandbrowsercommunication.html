<!DOCTYPE html><html lang="en" class="no-js">
<head>
<meta content="text/html; charset=UTF-8" http-equiv="Content-Type">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Unity - Manual: Unity Web Player and browser communication</title>
<meta name="description" content="Develop once, publish everywhere! Unity is the ultimate tool for video game development, architectural visualizations, and interactive media installations - publish to the web, Windows, OS X, Wii, Xbox 360, and iPhone with many more platforms to come.">
<meta name="author" content="Unity Technologies">
<link rel="shortcut icon" href="../StaticFilesManual/images/favicons/favicon.ico">
<link rel="icon" type="image/png" href="../StaticFilesManual/images/favicons/favicon.png">
<link rel="apple-touch-icon-precomposed" sizes="152x152" href="../StaticFilesManual/images/favicons/apple-touch-icon-152x152.png">
<link rel="apple-touch-icon-precomposed" sizes="144x144" href="../StaticFilesManual/images/favicons/apple-touch-icon-144x144.png">
<link rel="apple-touch-icon-precomposed" sizes="120x120" href="../StaticFilesManual/images/favicons/apple-touch-icon-120x120.png">
<link rel="apple-touch-icon-precomposed" sizes="114x114" href="../StaticFilesManual/images/favicons/apple-touch-icon-114x114.png">
<link rel="apple-touch-icon-precomposed" sizes="72x72" href="../StaticFilesManual/images/favicons/apple-touch-icon-72x72.png">
<link rel="apple-touch-icon-precomposed" href="../StaticFilesManual/images/favicons/apple-touch-icon.png">
<meta name="msapplication-TileColor" content="#222c37">
<meta name="msapplication-TileImage" content="../StaticFilesManual/images/favicons/tileicon-144x144.png">
<script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-2854981-1']);
  _gaq.push(['_setDomainName', 'unity3d.com']);
  _gaq.push(['_trackPageview']);
  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
  </script><script type="text/javascript" src="../StaticFilesManual/js/jquery.js"></script><script type="text/javascript" src="../StaticFilesManual/js/core.js"></script><script type="text/javascript" src="../StaticFilesManual/js/highlight.js"></script><script type="text/javascript" src="docdata/toc.js"></script><script type="text/javascript" src="docdata/global_toc.js"></script><script>hljs.initHighlightingOnLoad();</script><link href="http://fonts.googleapis.com/css?family=Open+Sans:400,700,400italic" rel="stylesheet" type="text/css">
<link rel="stylesheet" type="text/css" href="../StaticFilesManual/css/core.css">
</head>
<body>
<div class="header-wrapper">
<div id="header" class="header"><div class="content">
<div class="spacer"><div class="menu">
<div class="logo"><a href="http://docs.unity3d.com"></a></div>
<div class="search-form"><form action="30_search.html" method="get" class="apisearch">
<input type="text" name="q" placeholder="Search manual..." autosave="Unity Reference" results="5" class="sbox field" id="q"><input type="submit" class="submit">
</form></div>
<ul>
<li><a href="http://docs.unity3d.com">Overview</a></li>
<li><a href="../Manual/index.html" class="selected">Manual</a></li>
<li><a href="../ScriptReference/index.html">Scripting API</a></li>
</ul>
</div></div>
<div class="more">
<div class="filler"></div>
<ul><li><a href="http://unity3d.com/">unity3d.com</a></li></ul>
</div>
</div></div>
<div class="toolbar"><div class="content"><div class="lang-switcher">
<div class="current toggle" data-target=".lang-list">
<div class="lbl">Language: <span class="b">English</span>
</div>
<div class="arrow"></div>
</div>
<div class="lang-list" style="display:none;"><ul>
<li><a href="/Manual/UnityWebPlayerandbrowsercommunication.html">English</a></li>
<li><a href="/es/current/Manual/UnityWebPlayerandbrowsercommunication.html">Español</a></li>
<li><a href="/ru/current/Manual/UnityWebPlayerandbrowsercommunication.html">Русский</a></li>
</ul></div>
</div></div></div>
</div>
<div id="master-wrapper" class="master-wrapper clear">
<div id="sidebar" class="sidebar"><div class="sidebar-wrap"><div class="content"><div class="sidebar-menu"><div class="toc"><h2>Unity Manual</h2></div></div></div></div></div>
<div id="content-wrap" class="content-wrap"><div class="content-block"><div class="content">
<div class="section">
<div class="breadcrumbs clear"><ul>
<li><a href="UnityManualRestructured.html">Unity Manual</a></li>
<li><a href="PlatformSpecific.html">Platform Specific</a></li>
<li><a href="Web.html">Web Player</a></li>
<li><a href="WebPlayerDeployment.html">Web Player Deployment</a></li>
<li>Unity Web Player and browser communication</li>
</ul></div>
<div class="mb20"><div class="nextprev clear">
<div class="icon tt left mr1" data-distance="-40|-30|top">
<span class="prev"><a href="WebPlayerBehaviorTags.html"></a></span><div class="tip">Customizing the Unity Web Player's Behavior</div>
</div>
<div class="icon tt right" data-distance="-40|-30|top">
<span class="next"><a href="UsingWebPlayertemplates.html"></a></span><div class="tip">Using Webplayer Templates</div>
</div>
</div></div>
<h1>Unity Web Player and browser communication</h1>
  		        <div class="suggest">
                <a class="blue-btn sbtn">Suggest a change</a>
                <div class="suggest-wrap rel hide">
                  <div class="loading hide">
<div></div>
<div></div>
<div></div>
</div>
                  <div class="suggest-success hide">
                    <h2>Success!</h2>
                    <p>Thank you for helping us improve the quality of Unity Documentation. Although we cannot accept all submissions, we do read each suggested change from our users and will make updates where applicable.</p>
                    <a class="gray-btn sbtn close">Close</a>
                  </div>
                  <div class="suggest-failed hide">
                    <h2>Sumbission failed</h2>
                    <p>For some reason your suggested change could not be submitted. Please <a>try again</a> in a few minutes. And thank you for taking the time to help us improve the quality of Unity Documentation.</p>
                    <a class="gray-btn sbtn close">Close</a>
                  </div>
                  <div class="suggest-form clear">
                    <label for="suggest_name">Your name</label>
                    <input id="suggest_name" type="text">
                    <label for="suggest_email">Your email</label>
                    <input id="suggest_email" type="email">
                    <label for="suggest_body" class="clear">Suggestion <span class="r">*</span></label>
                    <textarea id="suggest_body" class="req"></textarea>
                    <button id="suggest_submit" class="blue-btn mr10">Submit suggestion</button>
                    <p class="mb0"><a class="cancel left lh42 cn">Cancel</a></p>
                  </div>
                </div>
              </div>
<!--BeginSwitchLink--><!--EndSwitchLink-->
<div class="clear"></div>

<p>The HTML page that contains <span class="doc-keyword">Unity Web Player</span> content can communicate with that content and vice versa. Basically there are two communication directions:</p>

<ul>
<li>The web page calls functions inside the Unity web player content.</li>
<li>The Unity web player content calls functions in the web page.</li>
</ul>

<p>Each of these communication directions is described in more detail below.</p>

<h2>Calling Unity web player content functions from the web page</h2>

<p>The Unity Web Player object has a function, <span class="doc-prop">SendMessage()</span>, that can be called from a web page in order to call functions within Unity web player content. This function is very similar to the <a href="../ScriptReference/GameObject.SendMessage.html">GameObject.SendMessage</a> function in the Unity scripting API. When called from a web page you pass an object name, a function name and a single argument, and <span class="doc-prop">SendMessage()</span> will call the given function in the given game object.</p>

<p>In order to call the Unity Web Player’s <span class="doc-prop">SendMessage()</span> function you must first get a reference to the Unity web player object. You can use the <span class="doc-prop">GetUnity()</span> function in the default html generated by Unity to obtain a reference to the object. Here is an example JavaScript function that would execute the <span class="doc-prop">SendMessage()</span> function on the Unity web player; in turn <span class="doc-prop">SendMessage()</span> will then call the function <span class="doc-prop">MyFunction()</span> on the game object named <em>MyObject</em>, passing a piece of string data as an argument:</p>

<pre><code>&lt;script type=&quot;text/javascript&quot; language=&quot;javascript&quot;&gt;
&lt;!--
//initializing the WebPlayer
var u = new UnityObject2();
u.initPlugin(jQuery(&quot;#unityPlayer&quot;)[0], &quot;Example.unity3d&quot;);

function SaySomethingToUnity()
{
    u.getUnity().SendMessage(&quot;MyObject&quot;, &quot;MyFunction&quot;, &quot;Hello from a web page!&quot;);
}
--&gt;
&lt;/script&gt;


</code></pre>

<p>Inside of the Unity web player content you need to have a script attached to the <span class="doc-keyword">GameObject</span> named <span class="doc-prop">MyObject</span>, and that script needs to implement a function named <span class="doc-prop">MyFunction</span>: </p>

<pre><code>function MyFunction(param : String)
{
    Debug.Log(param);
}


</code></pre>

<p>
<strong>Note:</strong> keep in mind that if the function doesn’t have any arguments, then an empty string (&quot;&quot;) should be passed as an argument.</p>

<p>A single string, integer or float argument must be passed when using <span class="doc-prop">SendMessage()</span>, the parameter is required on the calling side. If you don’t need it then just pass a zero or other default value and ignore it on the Unity side. Additionally, the game object specified by the name can be given in the form of a path name. For example, <span class="doc-menu">/MyObject/SomeChild</span> where <span class="doc-prop">SomeChild</span> must be a child of <span class="doc-prop">MyObject</span> and <span class="doc-prop">MyObject</span> must be at the root level due to the ‘/’ in front of its name.</p>

<p>
<strong>Note:</strong> u.getUnity() might return null if the game isn’t fully loaded yet, so it’s a good idea to check if it’s value is not null before using SendMessage(). Or wait for your game to be fully loaded before trying to communicate with it.</p>

<h2>Calling web page functions from Unity web player content</h2>

<p>In order to call a web page function from within your Unity web player content you must use the <span class="doc-prop"><a href="../ScriptReference/Application.ExternalCall.html">Application.ExternalCall()</a></span> function. Using that function you can call any JavaScript function defined in the web page, passing any number of parameters to it. Here is an example Unity script that uses the <span class="doc-prop">Application.ExternalCall()</span> function to call a function named <span class="doc-prop">SayHello()</span> found within the web page, passing a piece of string data as an argument:</p>

<pre><code>Application.ExternalCall( &quot;SayHello&quot;, &quot;The game says hello!&quot; );


</code></pre>

<p>The web page would need to define the <span class="doc-prop">SayHello()</span> function, for example:</p>

<pre><code>&lt;script type=&quot;text/javascript&quot; language=&quot;javascript&quot;&gt;
&lt;!--
function SayHello( arg )
{
    // show the message
    alert( arg );
}
--&gt;
&lt;/script&gt;


</code></pre>

<h2>Executing arbitrary browser code from Unity web player content</h2>

<p>You don’t even have to define functions in the embedding web page, instead you can use the <span class="doc-prop"><a href="../ScriptReference/Application.ExternalEval.html">Application.ExternalEval()</a></span> function to execute arbitrary browser code from the web player content.</p>

<p>The following example checks that the page embedding the web player content is fetched from a certain host (unity3d.com), if that’s not the case then it will redirect to another URL. This technique can be used to prevent deep linking to your web player content:</p>

<pre><code>Application.ExternalEval(
    &quot;if(document.domain != 'unity3d.com') { document.location='http://unity3d.com'; }&quot;
);


</code></pre>
<div class="nextprev clear">
<div class="icon tt left mr1" data-distance="-40|-30|top">
<span class="prev"><a href="WebPlayerBehaviorTags.html"></a></span><div class="tip">Customizing the Unity Web Player's Behavior</div>
</div>
<div class="icon tt right" data-distance="-40|-30|top">
<span class="next"><a href="UsingWebPlayertemplates.html"></a></span><div class="tip">Using Webplayer Templates</div>
</div>
</div>
</div>
<div class="footer-wrapper"><div class="footer clear">
<div class="copy">Copyright © 2014 Unity Technologies</div>
<div class="menu">
<a href="http://unity3d.com/learn">Learn</a><a href="http://unity3d.com/community">Community</a><a href="http://unity3d.com/asset-store">Asset Store</a><a href="https://store.unity3d.com">Buy</a><a href="http://unity3d.com/unity/download">Download</a>
</div>
</div></div>
</div></div></div>
</div>
</body>
</html>
