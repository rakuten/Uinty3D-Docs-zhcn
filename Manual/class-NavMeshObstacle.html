<!DOCTYPE html><html lang="en" class="no-js">
<head>
<meta content="text/html; charset=UTF-8" http-equiv="Content-Type">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Unity - Manual: NavMesh Obstacle</title>
<meta name="description" content="Develop once, publish everywhere! Unity is the ultimate tool for video game development, architectural visualizations, and interactive media installations - publish to the web, Windows, OS X, Wii, Xbox 360, and iPhone with many more platforms to come.">
<meta name="author" content="Unity Technologies">
<link rel="shortcut icon" href="../StaticFilesManual/images/favicons/favicon.ico">
<link rel="icon" type="image/png" href="../StaticFilesManual/images/favicons/favicon.png">
<link rel="apple-touch-icon-precomposed" sizes="152x152" href="../StaticFilesManual/images/favicons/apple-touch-icon-152x152.png">
<link rel="apple-touch-icon-precomposed" sizes="144x144" href="../StaticFilesManual/images/favicons/apple-touch-icon-144x144.png">
<link rel="apple-touch-icon-precomposed" sizes="120x120" href="../StaticFilesManual/images/favicons/apple-touch-icon-120x120.png">
<link rel="apple-touch-icon-precomposed" sizes="114x114" href="../StaticFilesManual/images/favicons/apple-touch-icon-114x114.png">
<link rel="apple-touch-icon-precomposed" sizes="72x72" href="../StaticFilesManual/images/favicons/apple-touch-icon-72x72.png">
<link rel="apple-touch-icon-precomposed" href="../StaticFilesManual/images/favicons/apple-touch-icon.png">
<meta name="msapplication-TileColor" content="#222c37">
<meta name="msapplication-TileImage" content="../StaticFilesManual/images/favicons/tileicon-144x144.png">
<script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-2854981-1']);
  _gaq.push(['_setDomainName', 'unity3d.com']);
  _gaq.push(['_trackPageview']);
  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
  </script><script type="text/javascript" src="../StaticFilesManual/js/jquery.js"></script><script type="text/javascript" src="../StaticFilesManual/js/core.js"></script><script type="text/javascript" src="../StaticFilesManual/js/highlight.js"></script><script type="text/javascript" src="docdata/toc.js"></script><script type="text/javascript" src="docdata/global_toc.js"></script><script>hljs.initHighlightingOnLoad();</script><link href="http://fonts.googleapis.com/css?family=Open+Sans:400,700,400italic" rel="stylesheet" type="text/css">
<link rel="stylesheet" type="text/css" href="../StaticFilesManual/css/core.css">
</head>
<body>
<div class="header-wrapper">
<div id="header" class="header"><div class="content">
<div class="spacer"><div class="menu">
<div class="logo"><a href="http://docs.unity3d.com"></a></div>
<div class="search-form"><form action="30_search.html" method="get" class="apisearch">
<input type="text" name="q" placeholder="Search manual..." autosave="Unity Reference" results="5" class="sbox field" id="q"><input type="submit" class="submit">
</form></div>
<ul>
<li><a href="http://docs.unity3d.com">Overview</a></li>
<li><a href="../Manual/index.html" class="selected">Manual</a></li>
<li><a href="../ScriptReference/index.html">Scripting API</a></li>
</ul>
</div></div>
<div class="more">
<div class="filler"></div>
<ul><li><a href="http://unity3d.com/">unity3d.com</a></li></ul>
</div>
</div></div>
<div class="toolbar"><div class="content"><div class="lang-switcher">
<div class="current toggle" data-target=".lang-list">
<div class="lbl">Language: <span class="b">English</span>
</div>
<div class="arrow"></div>
</div>
<div class="lang-list" style="display:none;"><ul>
<li><a href="/Manual/class-NavMeshObstacle.html">English</a></li>
<li><a href="/es/current/Manual/class-NavMeshObstacle.html">Español</a></li>
<li><a href="/ru/current/Manual/class-NavMeshObstacle.html">Русский</a></li>
</ul></div>
</div></div></div>
</div>
<div id="master-wrapper" class="master-wrapper clear">
<div id="sidebar" class="sidebar"><div class="sidebar-wrap"><div class="content"><div class="sidebar-menu"><div class="toc"><h2>Unity Manual</h2></div></div></div></div></div>
<div id="content-wrap" class="content-wrap"><div class="content-block"><div class="content">
<div class="section">
<div class="breadcrumbs clear"><ul>
<li><a href="UnityManualRestructured.html">Unity Manual</a></li>
<li><a href="Navigation.html">Navigation and Pathfinding</a></li>
<li>Navigation Reference</li>
<li>NavMesh Obstacle</li>
</ul></div>
<div class="mb20"><div class="nextprev clear">
<div class="icon tt left mr1" data-distance="-40|-30|top">
<span class="prev"><a href="class-NavMeshAgent.html"></a></span><div class="tip">NavMesh Agent</div>
</div>
<div class="icon tt right" data-distance="-40|-30|top">
<span class="next"><a href="class-OffMeshLink.html"></a></span><div class="tip">Off-Mesh Link</div>
</div>
</div></div>
<h1>NavMesh Obstacle</h1>
  		        <div class="suggest">
                <a class="blue-btn sbtn">Suggest a change</a>
                <div class="suggest-wrap rel hide">
                  <div class="loading hide">
<div></div>
<div></div>
<div></div>
</div>
                  <div class="suggest-success hide">
                    <h2>Success!</h2>
                    <p>Thank you for helping us improve the quality of Unity Documentation. Although we cannot accept all submissions, we do read each suggested change from our users and will make updates where applicable.</p>
                    <a class="gray-btn sbtn close">Close</a>
                  </div>
                  <div class="suggest-failed hide">
                    <h2>Sumbission failed</h2>
                    <p>For some reason your suggested change could not be submitted. Please <a>try again</a> in a few minutes. And thank you for taking the time to help us improve the quality of Unity Documentation.</p>
                    <a class="gray-btn sbtn close">Close</a>
                  </div>
                  <div class="suggest-form clear">
                    <label for="suggest_name">Your name</label>
                    <input id="suggest_name" type="text">
                    <label for="suggest_email">Your email</label>
                    <input id="suggest_email" type="email">
                    <label for="suggest_body" class="clear">Suggestion <span class="r">*</span></label>
                    <textarea id="suggest_body" class="req"></textarea>
                    <button id="suggest_submit" class="blue-btn mr10">Submit suggestion</button>
                    <p class="mb0"><a class="cancel left lh42 cn">Cancel</a></p>
                  </div>
                </div>
              </div>
<!--BeginSwitchLink--><a href='../ScriptReference/NavMeshObstacle.html' title='Go to NavMeshObstacle page in the Scripting Reference' class='switch-link gray-btn sbtn left'>Switch to Scripting</a><!--EndSwitchLink-->
<div class="clear"></div>

<p>The NavMesh Obstacle component allows you to describe moving obstacles that the agents should avoid while navigating the world. A barrel or a crate controlled by the physics system is a good example of an obstacle. While the obstacle is moving the agents do their best to avoid it, but once the obstacle becomes stationary, it will carve a hole in the NavMesh so that the agents can change their paths to steer around it, or if the stationary obstacle blocked the pathway, the agents can find a different route.</p>

<figure>
<img src="../uploads/Main/NavMeshObstacle.png" alt="">
<figcaption></figcaption></figure>

<table>
<colgroup>
<col style="text-align:left;">
<col style="text-align:left;">
</colgroup>

<thead>
<tr>
	<th style="text-align:left;">Property</th>
	<th style="text-align:left;">Function</th>
</tr>
</thead>

<tbody>
<tr>
	<td style="text-align:left;"><strong>Shape</strong></td>
	<td style="text-align:left;">The shape of the obstacle geometry: <em>capsule</em> or <em>box</em>
</td>
</tr>
<tr>
	<td style="text-align:left;" colspan="2"><em>For box</em></td>
</tr>
<tr>
	<td style="text-align:left;">   <strong>Center</strong>
</td>
	<td style="text-align:left;">Center of the box relative to the transform position</td>
</tr>
<tr>
	<td style="text-align:left;">   <strong>Size</strong>
</td>
	<td style="text-align:left;">Size of the box</td>
</tr>
<tr>
	<td style="text-align:left;" colspan="2"><em>For capsule</em></td>
</tr>
<tr>
	<td style="text-align:left;">   <strong>Center</strong>
</td>
	<td style="text-align:left;">Center of the capsule relative to the transform position</td>
</tr>
<tr>
	<td style="text-align:left;">   <strong>Radius</strong>
</td>
	<td style="text-align:left;">Radius of the capsule</td>
</tr>
<tr>
	<td style="text-align:left;">   <strong>Height</strong>
</td>
	<td style="text-align:left;">Height of the capsule</td>
</tr>
<tr>
	<td style="text-align:left;"><strong>Carve</strong></td>
	<td style="text-align:left;">When turned on, the obstacle will carve hole in the NavMesh</td>
</tr>
<tr>
	<td style="text-align:left;" colspan="2"><em>When carving is turned on</em></td>
</tr>
<tr>
	<td style="text-align:left;">   <strong>Move Threshold</strong>
</td>
	<td style="text-align:left;">Threshold distance for updating a moving carved hole.</td>
</tr>
<tr>
	<td style="text-align:left;">   <strong>Time To Stationary</strong>
</td>
	<td style="text-align:left;">The time to wait until obstacle is treated as stationary.</td>
</tr>
<tr>
	<td style="text-align:left;">   <strong>Carve Only Stationary</strong>
</td>
	<td style="text-align:left;">When enabled, the obstacle will be carved only when it is stationary.</td>
</tr>
</tbody>
</table>

<h2>Details</h2>

<figure>
<img src="../uploads/Main/NavMeshObstacleCarving.svg" alt="">
<figcaption></figcaption></figure>

<p>NavMesh Obstacles can be used to affect the agent’s navigation during the game in two ways:</p>

<ul>
<li>
<strong>Obstructing</strong>: when carving is not turned on, the default behavior of the obstacle is a lot like physics collider. The agents will try to avoid collisions with the obstacle, and when close they will collide with the obstacle. Obstacle avoidance is a very local operation, like trying to sense the environment with a stick. The agent may not find a way around in environment cluttered with obstacles. This mode is best used in cases where the obstacle is constantly moving, for example a vehicle, or even player character.</li>
<li>
<strong>Carving</strong>: when carving is turned on, the obstacle will carve a hole in the NavMesh when stationary, and when moving it will be obstructing. When a hole is carved into the NavMesh, the path finder, which knows about the big picture, is able to navigate the agent around location cluttered with obstacles, or it can find another route if the current path gets blocked by an obstacle. You should turn on carving for obstacle like crates and barrels which generally block navigation, but can be moved by the player or other game events like explosions.</li>
</ul>

<figure>
<img src="../uploads/Main/NavMeshObstacleTrap.svg" alt="">
<figcaption></figcaption></figure>

<h2>Moving Obstacle Logic</h2>

<p>When the obstacle moves, the carved hole will also move but to reduce CPU overhead the hole is only recalculated when necessary. The recalculation logic has two options: 1) carve when stationary, 2) carve when moved.</p>

<ul>
<li>
<strong>Carve when stationary</strong> is the default behavior and is used when <em>Carve Only Stationary</em> is turned <em>on</em>. The obstacle is treated as moving when it has moved more than the distance set by <em>Carving Move Threshold</em>. At this time, the carved hole is removed. When the obstacle has stopped moving, and has been stationary more than <em>Carving Time To Stationary</em> seconds, the obstacles is treated stationary and carving is updated again. While the obstacle is moving, the agents will avoid it using the collision avoidance, but will not plan paths around it. This mode is generally the best choice in terms of performance. It is good match when the game object is controlled by physics (for example crates and barrels).</li>
<li>
<strong>Carve when moved</strong> behavior is used when <em>Carve Only Stationary</em> is turned <em>off</em>. In this mode the carved hole is updated when the obstacle has moved more than the distance set by <em>Carving Move Threshold</em>. This mode is well suited for large slowly moving obstacles, for example a tank that is being avoided by infantry.</li>
</ul>

<h3>Further Reading</h3>

<ul>
<li>
<a href="nav-CreateNavMeshObstacle.html">Creating a NavMesh Obstacle</a> – workflow on how to create NavMesh Obstacles.</li>
<li>
<a href="nav-InnerWorkings.html">Inner Workings of the Navigation System</a> - learn more about how obstacles are used as part of navigation.</li>
<li>
<a href="../ScriptReference/NavMeshObstacle.html">NavMesh Obstacle scripting reference</a> - full description of the NavMesh Obstacle scripting API.</li>
</ul>
<div class="nextprev clear">
<div class="icon tt left mr1" data-distance="-40|-30|top">
<span class="prev"><a href="class-NavMeshAgent.html"></a></span><div class="tip">NavMesh Agent</div>
</div>
<div class="icon tt right" data-distance="-40|-30|top">
<span class="next"><a href="class-OffMeshLink.html"></a></span><div class="tip">Off-Mesh Link</div>
</div>
</div>
</div>
<div class="footer-wrapper"><div class="footer clear">
<div class="copy">Copyright © 2014 Unity Technologies</div>
<div class="menu">
<a href="http://unity3d.com/learn">Learn</a><a href="http://unity3d.com/community">Community</a><a href="http://unity3d.com/asset-store">Asset Store</a><a href="https://store.unity3d.com">Buy</a><a href="http://unity3d.com/unity/download">Download</a>
</div>
</div></div>
</div></div></div>
</div>
</body>
</html>
