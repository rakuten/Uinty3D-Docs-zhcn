<!DOCTYPE html><html lang="en" class="no-js">
<head>
<meta content="text/html; charset=UTF-8" http-equiv="Content-Type">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Unity - Manual: Upgrading to 64 bit iOS</title>
<meta name="description" content="Develop once, publish everywhere! Unity is the ultimate tool for video game development, architectural visualizations, and interactive media installations - publish to the web, Windows, OS X, Wii, Xbox 360, and iPhone with many more platforms to come.">
<meta name="author" content="Unity Technologies">
<link rel="shortcut icon" href="../StaticFilesManual/images/favicons/favicon.ico">
<link rel="icon" type="image/png" href="../StaticFilesManual/images/favicons/favicon.png">
<link rel="apple-touch-icon-precomposed" sizes="152x152" href="../StaticFilesManual/images/favicons/apple-touch-icon-152x152.png">
<link rel="apple-touch-icon-precomposed" sizes="144x144" href="../StaticFilesManual/images/favicons/apple-touch-icon-144x144.png">
<link rel="apple-touch-icon-precomposed" sizes="120x120" href="../StaticFilesManual/images/favicons/apple-touch-icon-120x120.png">
<link rel="apple-touch-icon-precomposed" sizes="114x114" href="../StaticFilesManual/images/favicons/apple-touch-icon-114x114.png">
<link rel="apple-touch-icon-precomposed" sizes="72x72" href="../StaticFilesManual/images/favicons/apple-touch-icon-72x72.png">
<link rel="apple-touch-icon-precomposed" href="../StaticFilesManual/images/favicons/apple-touch-icon.png">
<meta name="msapplication-TileColor" content="#222c37">
<meta name="msapplication-TileImage" content="../StaticFilesManual/images/favicons/tileicon-144x144.png">
<script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-2854981-1']);
  _gaq.push(['_setDomainName', 'unity3d.com']);
  _gaq.push(['_trackPageview']);
  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
  </script><script type="text/javascript" src="../StaticFilesManual/js/jquery.js"></script><script type="text/javascript" src="../StaticFilesManual/js/core.js"></script><script type="text/javascript" src="../StaticFilesManual/js/highlight.js"></script><script type="text/javascript" src="docdata/toc.js"></script><script type="text/javascript" src="docdata/global_toc.js"></script><script>hljs.initHighlightingOnLoad();</script><link href="http://fonts.googleapis.com/css?family=Open+Sans:400,700,400italic" rel="stylesheet" type="text/css">
<link rel="stylesheet" type="text/css" href="../StaticFilesManual/css/core.css">
</head>
<body>
<div class="header-wrapper">
<div id="header" class="header"><div class="content">
<div class="spacer"><div class="menu">
<div class="logo"><a href="http://docs.unity3d.com"></a></div>
<div class="search-form"><form action="30_search.html" method="get" class="apisearch">
<input type="text" name="q" placeholder="Search manual..." autosave="Unity Reference" results="5" class="sbox field" id="q"><input type="submit" class="submit">
</form></div>
<ul>
<li><a href="http://docs.unity3d.com">Overview</a></li>
<li><a href="../Manual/index.html" class="selected">Manual</a></li>
<li><a href="../ScriptReference/index.html">Scripting API</a></li>
</ul>
</div></div>
<div class="more">
<div class="filler"></div>
<ul><li><a href="http://unity3d.com/">unity3d.com</a></li></ul>
</div>
</div></div>
<div class="toolbar"><div class="content"><div class="lang-switcher">
<div class="current toggle" data-target=".lang-list">
<div class="lbl">Language: <span class="b">English</span>
</div>
<div class="arrow"></div>
</div>
<div class="lang-list" style="display:none;"><ul>
<li><a href="/Manual/iphone-64bit.html">English</a></li>
<li><a href="/es/current/Manual/iphone-64bit.html">Español</a></li>
<li><a href="/ru/current/Manual/iphone-64bit.html">Русский</a></li>
</ul></div>
</div></div></div>
</div>
<div id="master-wrapper" class="master-wrapper clear">
<div id="sidebar" class="sidebar"><div class="sidebar-wrap"><div class="content"><div class="sidebar-menu"><div class="toc"><h2>Unity Manual</h2></div></div></div></div></div>
<div id="content-wrap" class="content-wrap"><div class="content-block"><div class="content">
<div class="section">
<div class="breadcrumbs clear"><ul>
<li><a href="UnityManualRestructured.html">Unity Manual</a></li>
<li><a href="PlatformSpecific.html">Platform Specific</a></li>
<li><a href="iphone.html">iOS</a></li>
<li>Upgrading to 64 bit iOS</li>
</ul></div>
<div class="mb20"><div class="nextprev clear">
<div class="icon tt left mr1" data-distance="-40|-30|top">
<span class="prev"><a href="class-TextureImporterIos.html"></a></span><div class="tip">iOS 2D Texture Overrides</div>
</div>
<div class="icon tt right" data-distance="-40|-30|top">
<span class="next"><a href="UnityRemote4.html"></a></span><div class="tip">Unity Remote 4</div>
</div>
</div></div>
<h1>Upgrading to 64 bit iOS</h1>
  		        <div class="suggest">
                <a class="blue-btn sbtn">Suggest a change</a>
                <div class="suggest-wrap rel hide">
                  <div class="loading hide">
<div></div>
<div></div>
<div></div>
</div>
                  <div class="suggest-success hide">
                    <h2>Success!</h2>
                    <p>Thank you for helping us improve the quality of Unity Documentation. Although we cannot accept all submissions, we do read each suggested change from our users and will make updates where applicable.</p>
                    <a class="gray-btn sbtn close">Close</a>
                  </div>
                  <div class="suggest-failed hide">
                    <h2>Sumbission failed</h2>
                    <p>For some reason your suggested change could not be submitted. Please <a>try again</a> in a few minutes. And thank you for taking the time to help us improve the quality of Unity Documentation.</p>
                    <a class="gray-btn sbtn close">Close</a>
                  </div>
                  <div class="suggest-form clear">
                    <label for="suggest_name">Your name</label>
                    <input id="suggest_name" type="text">
                    <label for="suggest_email">Your email</label>
                    <input id="suggest_email" type="email">
                    <label for="suggest_body" class="clear">Suggestion <span class="r">*</span></label>
                    <textarea id="suggest_body" class="req"></textarea>
                    <button id="suggest_submit" class="blue-btn mr10">Submit suggestion</button>
                    <p class="mb0"><a class="cancel left lh42 cn">Cancel</a></p>
                  </div>
                </div>
              </div>
<!--BeginSwitchLink--><!--EndSwitchLink-->
<div class="clear"></div>

<p>iOS 64 bit support is coming to Unity 4.6 with our new scripting backend called IL2CPP. It runs your C#/UnityScript and Boo code as before, but using a completely new and revamped technology that we have been developing of the course of the last few years.</p>

<p>The IL2CPP runtime combines an ahead of time compiler with a virtual machine to convert assemblies to C++ while leveraging standard platform C++ compilers to produce native binaries. The net result is significantly higher performance, platform compatibility and maintainability.</p>

<p>IL2CPP is the only scripting backend to support deploying to ARM 64-bit on iOS, and is thus mandatory to deploy to the Apple app-store for releasing new apps.</p>

<p>To read more about IL2CPP on our announcement <a href="http://blogs.unity3d.com/2014/05/20/the-future-of-scripting-in-unity/">blogpost</a>, and more about iOS 64-bit and IL2CPP in our update <a href="http://blogs.unity3d.com/2014/11/20/apple-ios-64-bit-support-in-unity/">blogpost</a>.</p>

<h2>How to start using IL2CPP on iOS</h2>

<p>Pick it in <span class="doc-prop">Scripting Backend</span> dropdown in <a href="class-PlayerSettings.html">Player Settings</a>.</p>

<figure>
<img src="../uploads/Main/ScriptingBackendSelection.png" alt="Scripting backend selection">
<figcaption>Scripting backend selection</figcaption></figure>

<p>By default it will build for <span class="doc-prop">Universal</span> architecture (including both <em>ARM64</em> and <em>ARMv7</em>), if needed you might switch to specific architecture in <a href="class-PlayerSettings.html">Player Settings</a>. There is number of things that should be done before your application is up and running in 64 bits:</p>

<ul>
<li>You need 64 bit capable device to test on. These are all iOS devices with A7 or later chip (currently these are: iPhone 5S, iPad Air, iPad Mini Retina, iPhone 6, iPhone 6 Plus, iPad Mini 3, iPad Air 2).</li>
<li>You need all your native plugins to be compiled with 64 bit support (or be provided as source code). If you are using 3rd party plugin, you should contact your plugin vendor to obtain 64 bit capable and IL2CPP compatible version of that plugin. At the moment all latest Prime31 plugins are known to be good.</li>
<li>If you are the plugin vendor or just have your own native plugins then you need keep couple of things in mind:

<ul>
<li>IL2CPP is not API-compatible (which is unexposed) with the Mono Runtime API, which means if plugin is using <em>mono_*</em> functions won’t link anymore. The best way to resolve this issue is to switch to managed delegate/callback approach and pass your managed callbacks to the native side of plugin and call them back from there when some native data or event arrives.</li>
<li>All plugins that come as precompiled static libraries (.a files) should now include <em>ARM64</em> slice.</li>
<li>When doing native code/type conversion keep in mind that pointers and longs are now 64 bit wide and ints are still 32 wide.</li>
</ul>
</li>
<li>To minimise generated amount of C++ code IL2CPP is always (even when <em>Stripping level</em> is set to <span class="doc-prop">Disabled</span>) doing some sort of managed code stripping. Sometimes you will need to help it. Look for <a href="iphone-playerSizeOptimization.html">link.xml</a> guide in iOS player size optimization manual.</li>
<li>The <em>UnityEngine.Network*</em> APIs are currently not supported for IL2CPP builds.</li>
</ul>

<h2>Troubleshooting</h2>

<ul>
<li>Q: My code is running slower on IL2CPP than on Mono. Why?<br>
A: Make sure you are testing your code performance in Xcode <em><em>Release</em></em> configuration. If issue still remains, please submit a bugreport!</li>
<li>Q: Unity generated Xcode project fails to compile with following or similar error: <code>Method not found: 'Default constructor not found...ctor() of System.ComponentModel.Int64Converter'</code>.<br>
A: Deserializers and serializers often reference some types only via .NET Reflection API and in such cases these methods or even classes might be stripped from project. You can hint managed code stripper that specific class / method is used either via <a href="iphone-playerSizeOptimization.html">link.xml</a> or via introduction of dummy code that explicitly references it in one of your scripts.</li>
<li>Q: Unity generated Xcode project fails to compile with some other error.<br>
A: Please verify if all your plugins support <em>ARM64</em> and IL2CPP and if that’s the case please submit a bug report and attach your project (or just scripting part of it) to the bug report. Thanks!</li>
</ul>
<div class="nextprev clear">
<div class="icon tt left mr1" data-distance="-40|-30|top">
<span class="prev"><a href="class-TextureImporterIos.html"></a></span><div class="tip">iOS 2D Texture Overrides</div>
</div>
<div class="icon tt right" data-distance="-40|-30|top">
<span class="next"><a href="UnityRemote4.html"></a></span><div class="tip">Unity Remote 4</div>
</div>
</div>
</div>
<div class="footer-wrapper"><div class="footer clear">
<div class="copy">Copyright © 2014 Unity Technologies</div>
<div class="menu">
<a href="http://unity3d.com/learn">Learn</a><a href="http://unity3d.com/community">Community</a><a href="http://unity3d.com/asset-store">Asset Store</a><a href="https://store.unity3d.com">Buy</a><a href="http://unity3d.com/unity/download">Download</a>
</div>
</div></div>
</div></div></div>
</div>
</body>
</html>
