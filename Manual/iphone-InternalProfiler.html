<!DOCTYPE html><html lang="en" class="no-js">
<head>
<meta content="text/html; charset=UTF-8" http-equiv="Content-Type">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Unity - Manual: Measuring Performance with the Built-in Profiler</title>
<meta name="description" content="Develop once, publish everywhere! Unity is the ultimate tool for video game development, architectural visualizations, and interactive media installations - publish to the web, Windows, OS X, Wii, Xbox 360, and iPhone with many more platforms to come.">
<meta name="author" content="Unity Technologies">
<link rel="shortcut icon" href="../StaticFilesManual/images/favicons/favicon.ico">
<link rel="icon" type="image/png" href="../StaticFilesManual/images/favicons/favicon.png">
<link rel="apple-touch-icon-precomposed" sizes="152x152" href="../StaticFilesManual/images/favicons/apple-touch-icon-152x152.png">
<link rel="apple-touch-icon-precomposed" sizes="144x144" href="../StaticFilesManual/images/favicons/apple-touch-icon-144x144.png">
<link rel="apple-touch-icon-precomposed" sizes="120x120" href="../StaticFilesManual/images/favicons/apple-touch-icon-120x120.png">
<link rel="apple-touch-icon-precomposed" sizes="114x114" href="../StaticFilesManual/images/favicons/apple-touch-icon-114x114.png">
<link rel="apple-touch-icon-precomposed" sizes="72x72" href="../StaticFilesManual/images/favicons/apple-touch-icon-72x72.png">
<link rel="apple-touch-icon-precomposed" href="../StaticFilesManual/images/favicons/apple-touch-icon.png">
<meta name="msapplication-TileColor" content="#222c37">
<meta name="msapplication-TileImage" content="../StaticFilesManual/images/favicons/tileicon-144x144.png">
<script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-2854981-1']);
  _gaq.push(['_setDomainName', 'unity3d.com']);
  _gaq.push(['_trackPageview']);
  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
  </script><script type="text/javascript" src="../StaticFilesManual/js/jquery.js"></script><script type="text/javascript" src="../StaticFilesManual/js/core.js"></script><script type="text/javascript" src="../StaticFilesManual/js/highlight.js"></script><script type="text/javascript" src="docdata/toc.js"></script><script type="text/javascript" src="docdata/global_toc.js"></script><script>hljs.initHighlightingOnLoad();</script><link href="http://fonts.googleapis.com/css?family=Open+Sans:400,700,400italic" rel="stylesheet" type="text/css">
<link rel="stylesheet" type="text/css" href="../StaticFilesManual/css/core.css">
</head>
<body>
<div class="header-wrapper">
<div id="header" class="header"><div class="content">
<div class="spacer"><div class="menu">
<div class="logo"><a href="http://docs.unity3d.com"></a></div>
<div class="search-form"><form action="30_search.html" method="get" class="apisearch">
<input type="text" name="q" placeholder="Search manual..." autosave="Unity Reference" results="5" class="sbox field" id="q"><input type="submit" class="submit">
</form></div>
<ul>
<li><a href="http://docs.unity3d.com">Overview</a></li>
<li><a href="../Manual/index.html" class="selected">Manual</a></li>
<li><a href="../ScriptReference/index.html">Scripting API</a></li>
</ul>
</div></div>
<div class="more">
<div class="filler"></div>
<ul><li><a href="http://unity3d.com/">unity3d.com</a></li></ul>
</div>
</div></div>
<div class="toolbar"><div class="content"><div class="lang-switcher">
<div class="current toggle" data-target=".lang-list">
<div class="lbl">Language: <span class="b">English</span>
</div>
<div class="arrow"></div>
</div>
<div class="lang-list" style="display:none;"><ul>
<li><a href="/Manual/iphone-InternalProfiler.html">English</a></li>
<li><a href="/es/current/Manual/iphone-InternalProfiler.html">Español</a></li>
<li><a href="/ru/current/Manual/iphone-InternalProfiler.html">Русский</a></li>
</ul></div>
</div></div></div>
</div>
<div id="master-wrapper" class="master-wrapper clear">
<div id="sidebar" class="sidebar"><div class="sidebar-wrap"><div class="content"><div class="sidebar-menu"><div class="toc"><h2>Unity Manual</h2></div></div></div></div></div>
<div id="content-wrap" class="content-wrap"><div class="content-block"><div class="content">
<div class="section">
<div class="breadcrumbs clear"><ul>
<li><a href="UnityManualRestructured.html">Unity Manual</a></li>
<li><a href="PlatformSpecific.html">Platform Specific</a></li>
<li><a href="iphone.html">iOS</a></li>
<li>iOS Advanced Topics</li>
<li><a href="iphone-performance.html">Optimizing Performance in iOS.</a></li>
<li>Measuring Performance with the Built-in Profiler</li>
</ul></div>
<div class="mb20"><div class="nextprev clear">
<div class="icon tt left mr1" data-distance="-40|-30|top">
<span class="prev"><a href="iphone-iOS-Optimization.html"></a></span><div class="tip">iOS Specific Optimizations</div>
</div>
<div class="icon tt right" data-distance="-40|-30|top">
<span class="next"><a href="iphone-playerSizeOptimization.html"></a></span><div class="tip">Optimizing the Size of the Built iOS Player</div>
</div>
</div></div>
<h1>Measuring Performance with the Built-in Profiler</h1>
  		        <div class="suggest">
                <a class="blue-btn sbtn">Suggest a change</a>
                <div class="suggest-wrap rel hide">
                  <div class="loading hide">
<div></div>
<div></div>
<div></div>
</div>
                  <div class="suggest-success hide">
                    <h2>Success!</h2>
                    <p>Thank you for helping us improve the quality of Unity Documentation. Although we cannot accept all submissions, we do read each suggested change from our users and will make updates where applicable.</p>
                    <a class="gray-btn sbtn close">Close</a>
                  </div>
                  <div class="suggest-failed hide">
                    <h2>Sumbission failed</h2>
                    <p>For some reason your suggested change could not be submitted. Please <a>try again</a> in a few minutes. And thank you for taking the time to help us improve the quality of Unity Documentation.</p>
                    <a class="gray-btn sbtn close">Close</a>
                  </div>
                  <div class="suggest-form clear">
                    <label for="suggest_name">Your name</label>
                    <input id="suggest_name" type="text">
                    <label for="suggest_email">Your email</label>
                    <input id="suggest_email" type="email">
                    <label for="suggest_body" class="clear">Suggestion <span class="r">*</span></label>
                    <textarea id="suggest_body" class="req"></textarea>
                    <button id="suggest_submit" class="blue-btn mr10">Submit suggestion</button>
                    <p class="mb0"><a class="cancel left lh42 cn">Cancel</a></p>
                  </div>
                </div>
              </div>
<!--BeginSwitchLink--><!--EndSwitchLink-->
<div class="clear"></div>

<p>Unity iOS and Android contain a built in profiler. The built-in profiler emits console messages from the game running on device. These messages are written every 30 seconds and will provide insight into how the game is running. Understanding what these messages mean is not always easy, but as a minimum, you should quickly be able to determine if your game is CPU or GPU bound, and if CPU bound whether it’s script code, or perhaps Mono garbage collection that is slowing you down. See later in this page to learn how to configure the built-in profiler.</p>

<h2>What the Profiler Tells You</h2>

<p>Here’s an example of the built-in profiler’s output.</p>

<pre><code>iPhone/iPad Unity internal profiler stats:
cpu-player&gt; min: 9.8 max: 24.0 avg: 16.3
cpu-ogles-drv&gt; min: 1.8 max: 8.2 avg: 4.3
cpu-waits-gpu&gt; min: 0.8 max: 1.2 avg: 0.9
cpu-present&gt; min: 1.2 max: 3.9 avg: 1.6
frametime&gt; min: 31.9 max: 37.8 avg: 34.1
draw-call #&gt; min: 4 max: 9 avg: 6 | batched: 10
tris #&gt; min: 3590 max: 4561 avg: 3871 | batched: 3572
verts #&gt; min: 1940 max: 2487 avg: 2104 | batched: 1900
player-detail&gt; physx: 1.2 animation: 1.2 culling: 0.5 skinning: 0.0 batching: 0.2 render: 12.0 fixed-update-count: 1 .. 2
mono-scripts&gt; update: 0.5 fixedUpdate: 0.0 coroutines: 0.0 
mono-memory&gt; used heap: 233472 allocated heap: 548864 max number of collections: 1 collection total duration: 5.7
</code></pre>

<p>All times are measured in milliseconds per frame. You can see the minimum, maximum and average times over the last thirty frames.</p>

<h2>General CPU Activity</h2>

<table>
<colgroup>
<col style="text-align:left;">
<col style="text-align:left;">
</colgroup>

<thead>
<tr>
	<th style="text-align:left;" colspan="2"></th>
</tr>
</thead>

<tbody>
<tr>
	<td style="text-align:left;"><span class="doc-prop">cpu-player</span></td>
	<td style="text-align:left;">Displays the time your game spends executing code inside the Unity engine and executing scripts on the CPU.</td>
</tr>
<tr>
	<td style="text-align:left;"><span class="doc-prop">cpu-ogles-drv</span></td>
	<td style="text-align:left;">Displays the time spent executing OpenGL ES driver code on the CPU. Many factors like the number of draw calls, number of internal rendering state changes, the rendering pipeline setup and even the number of processed vertices can have an effect on the driver stats.</td>
</tr>
<tr>
	<td style="text-align:left;"><span class="doc-prop">cpu-waits-gpu</span></td>
	<td style="text-align:left;">Displays the time the CPU is idle while waiting for the GPU to finish rendering. If this number exceeds 2–3 milliseconds then your application is most probably fillrate/GPU processing bound. If this value is too small then the profile skips displaying the value.</td>
</tr>
<tr>
	<td style="text-align:left;"><span class="doc-prop">msaa-resolve</span></td>
	<td style="text-align:left;">The time taken to apply anti-aliasiing.</td>
</tr>
<tr>
	<td style="text-align:left;"><span class="doc-prop">cpu-present</span></td>
	<td style="text-align:left;">The amount of time spent executing the presentRenderbuffer command in OpenGL ES.</td>
</tr>
<tr>
	<td style="text-align:left;"><span class="doc-prop">frametime</span></td>
	<td style="text-align:left;">Represents the overall time of a game frame. Note that iOS hardware is always locked at a 60Hz refresh rate, so you will always get multiples times of 16.7ms (1000ms/60Hz = 16.7ms).</td>
</tr>
</tbody>
</table>

<h2>Rendering Statistics</h2>

<table>
<colgroup>
<col style="text-align:left;">
<col style="text-align:left;">
</colgroup>

<thead>
<tr>
	<th style="text-align:left;" colspan="2"></th>
</tr>
</thead>

<tbody>
<tr>
	<td style="text-align:left;"><span class="doc-prop">tris #</span></td>
	<td style="text-align:left;">Total number of triangles sent for rendering.</td>
</tr>
<tr>
	<td style="text-align:left;"><span class="doc-prop">verts #</span></td>
	<td style="text-align:left;">Total number of vertices sent for rendering. You should keep this number below 10000 if you use only static geometry but if you have lots of skinned geometry then you should keep it much lower.</td>
</tr>
<tr>
	<td style="text-align:left;"><span class="doc-prop">batched</span></td>
	<td style="text-align:left;">Number of draw-calls, triangles and vertices which were automatically batched by the engine. Comparing these numbers with draw-call and triangle totals will give you an idea how well is your scene prepared for batching. Share as many materials as possible among your objects to improve batching.</td>
</tr>
</tbody>
</table>

<h2>Detailed Unity Player Statistics</h2>

<p>The <span class="doc-prop">player-detail</span> section provides a detailed breakdown of what is happening inside the engine:-</p>

<table>
<colgroup>
<col style="text-align:left;">
<col style="text-align:left;">
</colgroup>

<thead>
<tr>
	<th style="text-align:left;" colspan="2"></th>
</tr>
</thead>

<tbody>
<tr>
	<td style="text-align:left;"><span class="doc-prop">physx</span></td>
	<td style="text-align:left;">Time spent on physics.</td>
</tr>
<tr>
	<td style="text-align:left;"><span class="doc-prop">animation</span></td>
	<td style="text-align:left;">Time spent animating bones.</td>
</tr>
<tr>
	<td style="text-align:left;"><span class="doc-prop">culling</span></td>
	<td style="text-align:left;">Time spent culling objects outside the camera frustum.</td>
</tr>
<tr>
	<td style="text-align:left;"><span class="doc-prop">skinning</span></td>
	<td style="text-align:left;">Time spent applying animations to skinned meshes.</td>
</tr>
<tr>
	<td style="text-align:left;"><span class="doc-prop">batching</span></td>
	<td style="text-align:left;">Time spent batching geometry. Batching dynamic geometry is considerably more expensive than batching static geometry.</td>
</tr>
<tr>
	<td style="text-align:left;"><span class="doc-prop">render</span></td>
	<td style="text-align:left;">Time spent rendering visible objects.</td>
</tr>
<tr>
	<td style="text-align:left;"><span class="doc-prop">fixed-update-count</span></td>
	<td style="text-align:left;">Minimum and maximum number of FixedUpdates executed during this frame. Too many FixedUpdates will deteriorate performance considerably.</td>
</tr>
</tbody>
</table>

<h2>Detailed Scripts Statistics</h2>

<p>The <span class="doc-prop">mono-scripts</span> section provides a detailed breakdown of the time spent executing code in the Mono runtime:</p>

<table>
<colgroup>
<col style="text-align:left;">
<col style="text-align:left;">
</colgroup>

<thead>
<tr>
	<th style="text-align:left;" colspan="2"></th>
</tr>
</thead>

<tbody>
<tr>
	<td style="text-align:left;"><span class="doc-prop">update</span></td>
	<td style="text-align:left;">Total time spent executing all Update() functions in scripts.</td>
</tr>
<tr>
	<td style="text-align:left;"><span class="doc-prop">fixedUpdate</span></td>
	<td style="text-align:left;">Total time spent executing all FixedUpdate() functions in scripts.</td>
</tr>
<tr>
	<td style="text-align:left;"><span class="doc-prop">coroutines</span></td>
	<td style="text-align:left;">Time spent inside script coroutines.</td>
</tr>
</tbody>
</table>

<h2>Detailed Statistics on Memory Allocated by Scripts</h2>

<p>The <span class="doc-prop">mono-memory</span> section gives you an idea of how memory is being managed by the Mono garbage collector:</p>

<table>
<colgroup>
<col style="text-align:left;">
<col style="text-align:left;">
</colgroup>

<thead>
<tr>
	<th style="text-align:left;" colspan="2"></th>
</tr>
</thead>

<tbody>
<tr>
	<td style="text-align:left;"><span class="doc-prop">allocated heap</span></td>
	<td style="text-align:left;">Total amount of memory available for allocations. A garbage collection will be triggered if there is not enough memory left in the heap for a given allocation. If there is still not enough free memory even after the collection then the allocated heap will grow in size.</td>
</tr>
<tr>
	<td style="text-align:left;"><span class="doc-prop">used heap</span></td>
	<td style="text-align:left;">The portion of the <span class="doc-prop">allocated heap</span> which is currently used up by objects. Every time you create a new class instance (not a struct) this number will grow until the next garbage collection.</td>
</tr>
<tr>
	<td style="text-align:left;"><span class="doc-prop">max number of collections</span></td>
	<td style="text-align:left;">Number of garbage collection passes during the last 30 frames.</td>
</tr>
<tr>
	<td style="text-align:left;"><span class="doc-prop">collection total duration</span></td>
	<td style="text-align:left;">Total time (in milliseconds) of all garbage collection passes that have happened during the last 30 frames.</td>
</tr>
</tbody>
</table>

<h2>Configuration</h2>

<p>On iOS, it’s disabled by default so to enable it, you need to open the Unity-generated XCode project, select the <code>iPhone_Profiler.h</code> file and change the line</p>

<pre><code> #define ENABLE_INTERNAL_PROFILER 0
</code></pre>

<p>to</p>

<pre><code> #define ENABLE_INTERNAL_PROFILER 1
</code></pre>

<p>Select <span class="doc-menu">View &gt; Debug Area &gt; Activate Console</span> in the XCode menu to display the output console (GDB) and then run your project. Unity will output statistics to the console window every thirty frames.</p>

<p>On Android, it is enabled by default. Just make sure Development Build is checked in the player settings when building, and the statistics should show up in logcat when run on the device. To view logcat, you need <code>&lt;span class=&quot;doc-prop&quot;&gt;adb&lt;/span&gt;</code> or the Android Debug Bridge. Once you have that, simply run the shell command <code>&lt;span class=&quot;doc-prop&quot;&gt;adb logcat&lt;/span&gt;</code>.</p>
<div class="nextprev clear">
<div class="icon tt left mr1" data-distance="-40|-30|top">
<span class="prev"><a href="iphone-iOS-Optimization.html"></a></span><div class="tip">iOS Specific Optimizations</div>
</div>
<div class="icon tt right" data-distance="-40|-30|top">
<span class="next"><a href="iphone-playerSizeOptimization.html"></a></span><div class="tip">Optimizing the Size of the Built iOS Player</div>
</div>
</div>
</div>
<div class="footer-wrapper"><div class="footer clear">
<div class="copy">Copyright © 2014 Unity Technologies</div>
<div class="menu">
<a href="http://unity3d.com/learn">Learn</a><a href="http://unity3d.com/community">Community</a><a href="http://unity3d.com/asset-store">Asset Store</a><a href="https://store.unity3d.com">Buy</a><a href="http://unity3d.com/unity/download">Download</a>
</div>
</div></div>
</div></div></div>
</div>
</body>
</html>
