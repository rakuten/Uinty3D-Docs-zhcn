<!DOCTYPE html><html lang="en" class="no-js">
<head>
<meta content="text/html; charset=UTF-8" http-equiv="Content-Type">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Unity - Manual: Depth of Field</title>
<meta name="description" content="Develop once, publish everywhere! Unity is the ultimate tool for video game development, architectural visualizations, and interactive media installations - publish to the web, Windows, OS X, Wii, Xbox 360, and iPhone with many more platforms to come.">
<meta name="author" content="Unity Technologies">
<link rel="shortcut icon" href="../StaticFilesManual/images/favicons/favicon.ico">
<link rel="icon" type="image/png" href="../StaticFilesManual/images/favicons/favicon.png">
<link rel="apple-touch-icon-precomposed" sizes="152x152" href="../StaticFilesManual/images/favicons/apple-touch-icon-152x152.png">
<link rel="apple-touch-icon-precomposed" sizes="144x144" href="../StaticFilesManual/images/favicons/apple-touch-icon-144x144.png">
<link rel="apple-touch-icon-precomposed" sizes="120x120" href="../StaticFilesManual/images/favicons/apple-touch-icon-120x120.png">
<link rel="apple-touch-icon-precomposed" sizes="114x114" href="../StaticFilesManual/images/favicons/apple-touch-icon-114x114.png">
<link rel="apple-touch-icon-precomposed" sizes="72x72" href="../StaticFilesManual/images/favicons/apple-touch-icon-72x72.png">
<link rel="apple-touch-icon-precomposed" href="../StaticFilesManual/images/favicons/apple-touch-icon.png">
<meta name="msapplication-TileColor" content="#222c37">
<meta name="msapplication-TileImage" content="../StaticFilesManual/images/favicons/tileicon-144x144.png">
<script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-2854981-1']);
  _gaq.push(['_setDomainName', 'unity3d.com']);
  _gaq.push(['_trackPageview']);
  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
  </script><script type="text/javascript" src="../StaticFilesManual/js/jquery.js"></script><script type="text/javascript" src="../StaticFilesManual/js/core.js"></script><script type="text/javascript" src="../StaticFilesManual/js/highlight.js"></script><script type="text/javascript" src="docdata/toc.js"></script><script type="text/javascript" src="docdata/global_toc.js"></script><script>hljs.initHighlightingOnLoad();</script><link href="http://fonts.googleapis.com/css?family=Open+Sans:400,700,400italic" rel="stylesheet" type="text/css">
<link rel="stylesheet" type="text/css" href="../StaticFilesManual/css/core.css">
</head>
<body>
<div class="header-wrapper">
<div id="header" class="header"><div class="content">
<div class="spacer"><div class="menu">
<div class="logo"><a href="http://docs.unity3d.com"></a></div>
<div class="search-form"><form action="30_search.html" method="get" class="apisearch">
<input type="text" name="q" placeholder="Search manual..." autosave="Unity Reference" results="5" class="sbox field" id="q"><input type="submit" class="submit">
</form></div>
<ul>
<li><a href="http://docs.unity3d.com">Overview</a></li>
<li><a href="../Manual/index.html" class="selected">Manual</a></li>
<li><a href="../ScriptReference/index.html">Scripting API</a></li>
</ul>
</div></div>
<div class="more">
<div class="filler"></div>
<ul><li><a href="http://unity3d.com/">unity3d.com</a></li></ul>
</div>
</div></div>
<div class="toolbar"><div class="content"><div class="lang-switcher">
<div class="current toggle" data-target=".lang-list">
<div class="lbl">Language: <span class="b">English</span>
</div>
<div class="arrow"></div>
</div>
<div class="lang-list" style="display:none;"><ul>
<li><a href="/Manual/script-DepthOfField.html">English</a></li>
<li><a href="/es/current/Manual/script-DepthOfField.html">Español</a></li>
<li><a href="/ru/current/Manual/script-DepthOfField.html">Русский</a></li>
</ul></div>
</div></div></div>
</div>
<div id="master-wrapper" class="master-wrapper clear">
<div id="sidebar" class="sidebar"><div class="sidebar-wrap"><div class="content"><div class="sidebar-menu"><div class="toc"><h2>Unity Manual</h2></div></div></div></div></div>
<div id="content-wrap" class="content-wrap"><div class="content-block"><div class="content">
<div class="section">
<div class="breadcrumbs clear"><ul>
<li><a href="UnityManualRestructured.html">Unity Manual</a></li>
<li><a href="Graphics.html">Graphics</a></li>
<li><a href="GraphicsReference.html">Graphics Reference</a></li>
<li><a href="comp-ImageEffects.html">Image Effect Reference</a></li>
<li>Depth of Field</li>
</ul></div>
<div class="mb20"><div class="nextprev clear">
<div class="icon tt left mr1" data-distance="-40|-30|top">
<span class="prev"><a href="script-DepthOfFieldDeprecated.html"></a></span><div class="tip">Depth of Field (Deprecated)</div>
</div>
<div class="icon tt right" data-distance="-40|-30|top">
<span class="next"><a href="script-EdgeDetectEffect.html"></a></span><div class="tip">Edge Detection</div>
</div>
</div></div>
<h1>Depth of Field</h1>
  		        <div class="suggest">
                <a class="blue-btn sbtn">Suggest a change</a>
                <div class="suggest-wrap rel hide">
                  <div class="loading hide">
<div></div>
<div></div>
<div></div>
</div>
                  <div class="suggest-success hide">
                    <h2>Success!</h2>
                    <p>Thank you for helping us improve the quality of Unity Documentation. Although we cannot accept all submissions, we do read each suggested change from our users and will make updates where applicable.</p>
                    <a class="gray-btn sbtn close">Close</a>
                  </div>
                  <div class="suggest-failed hide">
                    <h2>Sumbission failed</h2>
                    <p>For some reason your suggested change could not be submitted. Please <a>try again</a> in a few minutes. And thank you for taking the time to help us improve the quality of Unity Documentation.</p>
                    <a class="gray-btn sbtn close">Close</a>
                  </div>
                  <div class="suggest-form clear">
                    <label for="suggest_name">Your name</label>
                    <input id="suggest_name" type="text">
                    <label for="suggest_email">Your email</label>
                    <input id="suggest_email" type="email">
                    <label for="suggest_body" class="clear">Suggestion <span class="r">*</span></label>
                    <textarea id="suggest_body" class="req"></textarea>
                    <button id="suggest_submit" class="blue-btn mr10">Submit suggestion</button>
                    <p class="mb0"><a class="cancel left lh42 cn">Cancel</a></p>
                  </div>
                </div>
              </div>
<!--BeginSwitchLink--><!--EndSwitchLink-->
<div class="clear"></div>

<p>
<span class="doc-keyword">Depth of Field</span> is a common postprocessing effect that simulates the properties of a camera lens. This version is a more modern and sophisticated version of the old <a href="script-DepthOfFieldDeprecated.html">Depth of Field (Deprecated) effect</a> that works especially well with <a href="HDR.html">HDR</a> rendering and a <a href="DirectX11.html">DirectX 11</a> compatible graphics device.</p>

<p>In real life, a camera can only focus sharply on an object at a specific distance; objects nearer or farther from the camera will be somewhat out of focus. The blurring not only gives a visual cue about an object’s distance but also introduces <span class="doc-prop">Bokeh</span> which is the term for pleasing visual artifacts that appear around bright areas of the image as they fall out of focus. Common <span class="doc-prop">Bokeh</span> shapes are discs, hexagons and other shapes of higher level dihedral groups.</p>

<p>While the regular version only supports disc shapes (generated via circular texture sampling), the <a href="DirectX11.html">DirectX 11</a> version is able to splat any shape as defined by the <span class="doc-prop">Bokeh Texture</span>.</p>

<p>An example of Depth of Field effect can be seen in the following image, displaying the results of a focused foreground and a defocused background..</p>

<figure>
<img src="../uploads/ImageEffects/DepthOfFieldScatter.png" alt="The DirectX11 version of this effect can create nicely defined bokeh shapes at a very reasonable cost.">
<figcaption>The <a href="DirectX11.html">DirectX11</a> version of this effect can create nicely defined bokeh shapes at a very reasonable cost.</figcaption></figure>

<p>As with the other <a href="comp-ImageEffects.html">image effects</a>, you must have the <a href="HOWTO-InstallStandardAssets.html">Standard Assets Effects package</a> installed before it becomes available.</p>

<h2>Properties</h2>

<table>
<colgroup>
<col style="text-align:left;">
<col style="text-align:left;">
</colgroup>

<thead>
<tr>
	<th style="text-align:left;"><strong><em>Property:</em></strong></th>
	<th style="text-align:left;"><strong><em>Function:</em></strong></th>
</tr>
</thead>

<tbody>
<tr>
	<td style="text-align:left;" colspan="2"><span class="doc-prop">Focal Settings</span></td>
</tr>
<tr>
	<td style="text-align:left;"><span class="doc-prop">Visualize</span></td>
	<td style="text-align:left;">Overlay color indicating camera focus.</td>
</tr>
<tr>
	<td style="text-align:left;"><span class="doc-prop">Focal distance</span></td>
	<td style="text-align:left;">The distance to the focal plane from the camera position in world space.</td>
</tr>
<tr>
	<td style="text-align:left;"><span class="doc-prop">Focal Size</span></td>
	<td style="text-align:left;">Increase the total focal area.</td>
</tr>
<tr>
	<td style="text-align:left;"><span class="doc-prop">Focus on Transform</span></td>
	<td style="text-align:left;">Determine the focal distance using a target object in the scene.</td>
</tr>
<tr>
	<td style="text-align:left;"><span class="doc-prop">Aperture</span></td>
	<td style="text-align:left;">The camera’s aperture defining the transition between focused and defocused areas. It is good practice to keep this value as high as possible, as otherwise sampling artifacts might occur, especially when the <span class="doc-prop">Max Blur Distance</span> is big. Bigger Aperture values will automatically downsample the image to produce a better defocus.</td>
</tr>
</tbody>
</table>

<table>
<colgroup>
<col style="text-align:left;">
<col style="text-align:left;">
</colgroup>

<thead>
<tr>
	<th style="text-align:left;" colspan="2"></th>
</tr>
</thead>

<tbody>
<tr>
	<td style="text-align:left;"><span class="doc-prop">Defocus Type</span></td>
	<td style="text-align:left;">Algorithm used to produce defocused areas. <span class="doc-prop">DX11</span> is effectively a bokeh splatting technique while <span class="doc-prop">DiscBlur</span> indicates a more traditional (scatter as gather) based blur.</td>
</tr>
<tr>
	<td style="text-align:left;"><span class="doc-prop">Sample Count</span></td>
	<td style="text-align:left;">Amount of filter taps. Greatly affects performance.</td>
</tr>
<tr>
	<td style="text-align:left;"><span class="doc-prop">Max Blur Distance</span></td>
	<td style="text-align:left;">Max distance for filter taps. Affects texture cache and can cause undersampling artifacts if value is too big. A value smaller than 4.0 should produce decent results.</td>
</tr>
<tr>
	<td style="text-align:left;"><span class="doc-prop">High Resolution</span></td>
	<td style="text-align:left;">Perform defocus operations in full resolution. Affects performance but might help reduce unwanted artifacts and produce more defined bokeh shapes.</td>
</tr>
</tbody>
</table>

<table>
<colgroup>
<col style="text-align:left;">
<col style="text-align:left;">
</colgroup>

<thead>
<tr>
	<th style="text-align:left;" colspan="2"></th>
</tr>
</thead>

<tbody>
<tr>
	<td style="text-align:left;"><span class="doc-prop">Near Blur</span></td>
	<td style="text-align:left;">Foreground areas will overlap at a performance cost.</td>
</tr>
<tr>
	<td style="text-align:left;"><span class="doc-prop">Overlap Size</span></td>
	<td style="text-align:left;">Increase foreground overlap dilation if needed.</td>
</tr>
</tbody>
</table>

<table>
<colgroup>
<col style="text-align:left;">
<col style="text-align:left;">
</colgroup>

<thead>
<tr>
	<th style="text-align:left;" colspan="2"></th>
</tr>
</thead>

<tbody>
<tr>
	<td style="text-align:left;" colspan="2"><span class="doc-prop">DX11 Bokeh Settings</span></td>
</tr>
<tr>
	<td style="text-align:left;"><span class="doc-prop">Bokeh Texture</span></td>
	<td style="text-align:left;">Texture defining bokeh shape.</td>
</tr>
<tr>
	<td style="text-align:left;"><span class="doc-prop">Bokeh Scale</span></td>
	<td style="text-align:left;">Size of bokeh texture.</td>
</tr>
<tr>
	<td style="text-align:left;"><span class="doc-prop">Bokeh Intensity</span></td>
	<td style="text-align:left;">Blend strength of bokeh shapes.</td>
</tr>
<tr>
	<td style="text-align:left;"><span class="doc-prop">Min Luminance</span></td>
	<td style="text-align:left;">Only pixels brighter than this value will cast bokeh shapes. Affects performance as it limits overdraw to a more reasonable amount.</td>
</tr>
<tr>
	<td style="text-align:left;"><span class="doc-prop">Spawn Heuristic</span></td>
	<td style="text-align:left;">Bokeh shapes will only be cast if pixel in questions passes a frequency check. A threshold around 0.1 seems like a good tradeoff between performance and quality.</td>
</tr>
</tbody>
</table>

<h2>Comparison between DirectX11 and DiscBlur settings</h2>

<figure>
<img src="../uploads/Main/HighRezBokeh.png" alt="Smooth transitions are possible with the high resolution DX11 version (albeit at a high performance cost).">
<figcaption>Smooth transitions are possible with the high resolution DX11 version (albeit at a high performance cost).</figcaption></figure>

<figure>
<img src="../uploads/Main/BokehDisc.png" alt="Due to the nature of the standard DiscBlur texture sampling approach, the maximum blur radius is limited before sampling artifacts become appearant. Also, only spherical Bokeh shapes are possible.">
<figcaption>Due to the nature of the standard DiscBlur texture sampling approach, the maximum blur radius is limited before sampling artifacts become appearant. Also, only spherical Bokeh shapes are possible.</figcaption></figure>

<h2>About DirectX 11 Bokeh Splatting</h2>

<p>This powerful technique enables proper Scattering, however due to high demands on fillrate, it should be used with care. The parameters <span class="doc-prop">Spawn Heuristic</span> and <span class="doc-prop">Min Luminance</span> control when and where Bokeh Sprites will be placed. If pixels don’t pass a luminance and frequency check, a simple Box Blur will be used instead. It’s however hard to notice as it uses the same kernel width as the Bokeh sprites. </p>

<p>The following pictures show that the road, that is neither bright nor bears great frequency changes can just be blurred with a simple box filter without ruining the overall <span class="doc-prop">Bokeh</span> experience.</p>

<figure>
<img src="../uploads/Main/BokehSplatting1.png" alt="Example with small &lt;span class=&quot;doc-prop&quot;&gt;Max Blur Distance&lt;/span&gt;">
<figcaption>Example with small <span class="doc-prop">Max Blur Distance</span></figcaption></figure>

<figure>
<img src="../uploads/Main/BokehSplatting2.png" alt="Example with big &lt;span class=&quot;doc-prop&quot;&gt;Max Blur Distance&lt;/span&gt;">
<figcaption>Example with big <span class="doc-prop">Max Blur Distance</span></figcaption></figure>

<h2>Hardware Support</h2>

<p>This effect requires a graphics card that supports <span class="doc-keyword">Shader Model 3</span> and <strong>depth textures</strong>.
See the <a href="GraphicsEmulation.html">Graphics Hardware Capabilities and Emulation</a> page for further details and a list of compliant hardware.</p>
<div class="nextprev clear">
<div class="icon tt left mr1" data-distance="-40|-30|top">
<span class="prev"><a href="script-DepthOfFieldDeprecated.html"></a></span><div class="tip">Depth of Field (Deprecated)</div>
</div>
<div class="icon tt right" data-distance="-40|-30|top">
<span class="next"><a href="script-EdgeDetectEffect.html"></a></span><div class="tip">Edge Detection</div>
</div>
</div>
</div>
<div class="footer-wrapper"><div class="footer clear">
<div class="copy">Copyright © 2014 Unity Technologies</div>
<div class="menu">
<a href="http://unity3d.com/learn">Learn</a><a href="http://unity3d.com/community">Community</a><a href="http://unity3d.com/asset-store">Asset Store</a><a href="https://store.unity3d.com">Buy</a><a href="http://unity3d.com/unity/download">Download</a>
</div>
</div></div>
</div></div></div>
</div>
</body>
</html>
