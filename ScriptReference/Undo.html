<!DOCTYPE html>
<html lang="en" class="no-js">
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Unity - Scripting API: Undo</title>
    <meta name="description" content="Develop once, publish everywhere! Unity is the ultimate tool for video game development, architectural visualizations, and interactive media installations - publish to the web, Windows, OS X, Wii, Xbox 360, and iPhone with many more platforms to come." />
    <meta name="author" content="Unity Technologies" />
    <link rel="shortcut icon" href="../StaticFiles/images/favicons/favicon.ico" />
    <link rel="icon" type="image/png" href="../StaticFiles/images/favicons/favicon.png" />
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../StaticFiles/images/favicons/apple-touch-icon-152x152.png" />
    <link rel="apple-touch-icon-precomposed" sizes="144x144" href="../StaticFiles/images/favicons/apple-touch-icon-144x144.png" />
    <link rel="apple-touch-icon-precomposed" sizes="120x120" href="../StaticFiles/images/favicons/apple-touch-icon-120x120.png" />
    <link rel="apple-touch-icon-precomposed" sizes="114x114" href="../StaticFiles/images/favicons/apple-touch-icon-114x114.png" />
    <link rel="apple-touch-icon-precomposed" sizes="72x72" href="../StaticFiles/images/favicons/apple-touch-icon-72x72.png" />
    <link rel="apple-touch-icon-precomposed" href="../StaticFiles/images/favicons/apple-touch-icon.png" />
    <meta name="msapplication-TileColor" content="#222c37" />
    <meta name="msapplication-TileImage" content="../StaticFiles/images/favicons/tileicon-144x144.png" />
    <script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-2854981-1']);
  _gaq.push(['_setDomainName', 'unity3d.com']);
  _gaq.push(['_trackPageview']);
  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
  </script>
    <script type="text/javascript" src="../StaticFiles/js/jquery.js">
    </script>
    <script type="text/javascript" src="docdata/toc.js">//toc</script>
    <!--local TOC-->
    <script type="text/javascript" src="docdata/global_toc.js">//toc</script>
    <!--global TOC, including other platforms-->
    <script type="text/javascript" src="../StaticFiles/js/core.js">
    </script>
    <link href="http://fonts.googleapis.com/css?family=Open+Sans:400,700,400italic" rel="stylesheet" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../StaticFiles/css/core.css" />
  </head>
  <body>
    <div class="header-wrapper">
      <div id="header" class="header">
        <div class="content">
          <div class="spacer">
            <div class="menu">
              <div class="logo">
                <a href="http://docs.unity3d.com">
                </a>
              </div>
              <div class="search-form">
                <form action="30_search.html" method="get" class="apisearch">
                  <input type="text" name="q" placeholder="Search scripting..." autosave="Unity Reference" results="5" class="sbox field" id="q">
                  </input>
                  <input type="submit" class="submit">
                  </input>
                </form>
              </div>
              <ul>
                <li>
                  <a href="http://docs.unity3d.com">Overview</a>
                </li>
                <li>
                  <a href="../Manual/index.html">Manual</a>
                </li>
                <li>
                  <a href="../ScriptReference/index.html" class="selected">Scripting API</a>
                </li>
              </ul>
            </div>
          </div>
          <div class="more">
            <div class="filler">
            </div>
            <ul>
              <li>
                <a href="http://unity3d.com/">unity3d.com</a>
              </li>
            </ul>
          </div>
        </div>
      </div>
      <div class="toolbar">
        <div class="content clear">
          <div class="lang-switcher hide">
            <div class="current toggle" data-target=".lang-list">
              <div class="lbl">Language: <span class="b">English</span></div>
              <div class="arrow">
              </div>
            </div>
            <div class="lang-list" style="display:none;">
              <ul>
                <li>
                  <a href="">English</a>
                </li>
              </ul>
            </div>
          </div>
          <div class="script-lang">
            <ul>
              <li class="selected" data-lang="CS">C#</li>
              <li data-lang="JS">JS</li>
            </ul>
            <div id="script-lang-dialog" class="dialog hide">
              <div class="dialog-content clear">
                <h2>Script language</h2>
                <div class="close">
                </div>
                <p class="clear">Select your preferred scripting language. All code snippets will be displayed in this language.</p>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div id="master-wrapper" class="master-wrapper clear">
      <div id="sidebar" class="sidebar">
        <div class="sidebar-wrap">
          <div class="content">
            <div class="sidebar-menu">
              <div class="toc">
                <h2>Scripting API</h2>
              </div>
            </div>
            <p>
              <a href="40_history.html" class="cw">History</a>
            </p>
          </div>
        </div>
      </div>
      <div id="content-wrap" class="content-wrap">
        <div class="content-block">
          <div class="content">
            <div class="section">
              <div class="mb20 clear">
                <h1 class="heading inherit">Undo</h1>
                <div class="clear">
                </div>
                <p class="cl mb0 left mr10">Namespace: UnityEditor</p>
                <div class="clear">
                </div>
                <div class="suggest">
                  <a class="blue-btn sbtn">Suggest a change</a>
                  <div class="suggest-wrap rel hide">
                    <div class="loading hide">
                      <div>
                      </div>
                      <div>
                      </div>
                      <div>
                      </div>
                    </div>
                    <div class="suggest-success hide">
                      <h2>Success!</h2>
                      <p>Thank you for helping us improve the quality of Unity Documentation. Although we cannot accept all submissions, we do read each suggested change from our users and will make updates where applicable.</p>
                      <a class="gray-btn sbtn close">Close</a>
                    </div>
                    <div class="suggest-failed hide">
                      <h2>Sumbission failed</h2>
                      <p>For some reason your suggested change could not be submitted. Please <a>try again</a> in a few minutes. And thank you for taking the time to help us improve the quality of Unity Documentation.</p>
                      <a class="gray-btn sbtn close">Close</a>
                    </div>
                    <div class="suggest-form clear">
                      <label for="suggest_name">Your name</label>
                      <input id="suggest_name" type="text">
                      </input>
                      <label for="suggest_email">Your email</label>
                      <input id="suggest_email" type="email">
                      </input>
                      <label for="suggest_body" class="clear">Suggestion <span class="r">*</span></label>
                      <textarea id="suggest_body" class="req">
                      </textarea>
                      <button id="suggest_submit" class="blue-btn mr10">Submit suggestion</button>
                      <p class="mb0">
                        <a class="cancel left lh42 cn">Cancel</a>
                      </p>
                    </div>
                  </div>
                </div>
                <a href="" class="switch-link gray-btn sbtn left hide">Switch to Manual</a>
                <div class="clear">
                </div>
              </div>
              <div class="subsection">
                <div class="signature">
                  <div class="signature-JS sig-block">
                  </div>
                  <div class="signature-CS sig-block">
                  </div>
                </div>
              </div>
              <div class="subsection">
                <h2>Description</h2>
                <p>Lets you register undo operations on specific objects you are about to perform changes on.</p>
              </div>
              <div class="subsection">
                <p>The Undo system stores delta changes in the undo stack.<br /><br />Undo operations are automatically combined together based on events, e.g. mouse down events will split undo groups. Grouped undo operations will appear and work as a single undo. To control grouping manually use [[Undo.IncrementCurrentGroup].<br /><br />By default, the name shown in the UI will be selected from the actions belonging to the group using a hardcoded ordering of the different kinds of actions. To manually set the name, use <a href="Undo.SetCurrentGroupName.html">Undo.SetCurrentGroupName</a>.<br /><br />Undo operations store either per property or per object state. This way they scale well with any scene size.<br /><br />The most important operations are outlined below.<br /><br /><strong>Modifying a single property:</strong></p>
              </div>
              <div class="subsection">
      <pre class="codeExampleRaw">
        <a href="Undo.RecordObject.html">Undo.RecordObject</a> (myGameObject.transform, "Zero <a href="Transform.html">Transform</a> Position");
myGameObject.transform.position = <a href="Vector3-zero.html">Vector3.zero</a>;</pre>
    </div>
              <div class="subsection">
                <p>
      <strong>Adding a component :</strong>
    </p>
              </div>
              <div class="subsection">
      <pre class="codeExampleRaw">Undo.AddComponent&lt;RigidBody&gt; (myGameObject);</pre>
    </div>
              <div class="subsection">
                <p>
      <strong>Creating a new game object:</strong>
    </p>
              </div>
              <div class="subsection">
      <pre class="codeExampleRaw">var go = new <a href="GameObject.html">GameObject</a> ();
<a href="Undo.RegisterCreatedObjectUndo.html">Undo.RegisterCreatedObjectUndo</a> (go, "Created go");</pre>
    </div>
              <div class="subsection">
                <p>
      <strong>Destroying a game object or component:</strong>
    </p>
              </div>
              <div class="subsection">
      <pre class="codeExampleRaw">
        <a href="Undo.DestroyObjectImmediate.html">Undo.DestroyObjectImmediate</a> (myGameObject);</pre>
    </div>
              <div class="subsection">
                <p>
      <strong>Changing transform parenting:</strong>
    </p>
              </div>
              <div class="subsection">
      <pre class="codeExampleRaw">
        <a href="Undo.SetTransformParent.html">Undo.SetTransformParent</a> (myGameObject.transform, newTransformParent);</pre>
    </div>
              <div class="subsection">
                <h2>Static Variables</h2>
                <table class="list">
    <tr><td class="lbl"><a href="Undo-undoRedoPerformed.html">undoRedoPerformed</a></td><td class="desc">Callback that is triggered after an undo or redo was executed.</td></tr>
    <tr><td class="lbl"><a href="Undo-willFlushUndoRecord.html">willFlushUndoRecord</a></td><td class="desc">Invoked before the Undo system performs a flush.</td></tr>
  </table>
              </div>
              <div class="subsection">
                <h2>Static Functions</h2>
                <table class="list">
    <tr><td class="lbl"><a href="Undo.ClearUndo.html">ClearUndo</a></td><td class="desc">Removes all Undo operation for the identifier object registered using Undo.RegisterCompleteObjectUndo from the undo stack.</td></tr>
    <tr><td class="lbl"><a href="Undo.CollapseUndoOperations.html">CollapseUndoOperations</a></td><td class="desc">Collapses all undo operation up to group index together into one step.</td></tr>
    <tr><td class="lbl"><a href="Undo.DestroyObjectImmediate.html">DestroyObjectImmediate</a></td><td class="desc">Destroys the object and records an undo operation so that it can be recreated.</td></tr>
    <tr><td class="lbl"><a href="Undo.FlushUndoRecordObjects.html">FlushUndoRecordObjects</a></td><td class="desc">Ensure objects recorded using RecordObject or ::ref:RecordObjects are registered as an undoable action. In most cases there is no reason to invoke FlushUndoRecordObjects since it's automatically done right after mouse-up and certain other events that conventionally marks the end of an action.</td></tr>
    <tr><td class="lbl"><a href="Undo.GetCurrentGroup.html">GetCurrentGroup</a></td><td class="desc">Unity automatically groups undo operations by the current group index.</td></tr>
    <tr><td class="lbl"><a href="Undo.GetCurrentGroupName.html">GetCurrentGroupName</a></td><td class="desc">Get the name that will be shown in the UI for the current undo group.</td></tr>
    <tr><td class="lbl"><a href="Undo.IncrementCurrentGroup.html">IncrementCurrentGroup</a></td><td class="desc">Unity automatically groups undo operations by the current group index.</td></tr>
    <tr><td class="lbl"><a href="Undo.PerformRedo.html">PerformRedo</a></td><td class="desc">Perform an Redo operation.</td></tr>
    <tr><td class="lbl"><a href="Undo.PerformUndo.html">PerformUndo</a></td><td class="desc">Perform an Undo operation.</td></tr>
    <tr><td class="lbl"><a href="Undo.RecordObject.html">RecordObject</a></td><td class="desc">Records any changes done on the object after the RecordObject function.</td></tr>
    <tr><td class="lbl"><a href="Undo.RecordObjects.html">RecordObjects</a></td><td class="desc">Records multiple undoable objects in a single call. This is the same as calling Undo.RecordObject multiple times.</td></tr>
    <tr><td class="lbl"><a href="Undo.RegisterCreatedObjectUndo.html">RegisterCreatedObjectUndo</a></td><td class="desc">Register an undo operations for a newly created object.</td></tr>
    <tr><td class="lbl"><a href="Undo.RevertAllDownToGroup.html">RevertAllDownToGroup</a></td><td class="desc">Performs all undo operations up to the group index without storing a redo operation in the process.</td></tr>
    <tr><td class="lbl"><a href="Undo.RevertAllInCurrentGroup.html">RevertAllInCurrentGroup</a></td><td class="desc">Performs the last undo operation but does not record a redo operation.</td></tr>
    <tr><td class="lbl"><a href="Undo.SetCurrentGroupName.html">SetCurrentGroupName</a></td><td class="desc">Set the name of the current undo group.</td></tr>
    <tr><td class="lbl"><a href="Undo.SetTransformParent.html">SetTransformParent</a></td><td class="desc">Sets the parent of transform to the new parent and records an undo operation.</td></tr>
  </table>
              </div>
              <div class="subsection">
                <h2>Delegates</h2>
                <table class="list">
    <tr><td class="lbl"><a href="Undo.UndoRedoCallback.html">UndoRedoCallback</a></td><td class="desc">Delegate used for undoRedoPerformed.</td></tr>
    <tr><td class="lbl"><a href="Undo.WillFlushUndoRecord.html">WillFlushUndoRecord</a></td><td class="desc">Delegate used for willFlushUndoRecord.</td></tr>
  </table>
              </div>
            </div>
            <div class="footer-wrapper">
              <div class="footer clear">
                <div class="copy">Copyright © 2014 Unity Technologies</div>
                <div class="menu">
                  <a href="http://unity3d.com/learn">Learn</a>
                  <a href="http://unity3d.com/community">Community</a>
                  <a href="http://unity3d.com/asset-store">Asset Store</a>
                  <a href="https://store.unity3d.com">Buy</a>
                  <a href="http://unity3d.com/unity/download">Download</a>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </body>
</html>