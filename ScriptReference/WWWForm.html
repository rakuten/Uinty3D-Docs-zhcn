<!DOCTYPE html>
<html lang="en" class="no-js">
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Unity - Scripting API: WWWForm</title>
    <meta name="description" content="Develop once, publish everywhere! Unity is the ultimate tool for video game development, architectural visualizations, and interactive media installations - publish to the web, Windows, OS X, Wii, Xbox 360, and iPhone with many more platforms to come." />
    <meta name="author" content="Unity Technologies" />
    <link rel="shortcut icon" href="../StaticFiles/images/favicons/favicon.ico" />
    <link rel="icon" type="image/png" href="../StaticFiles/images/favicons/favicon.png" />
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../StaticFiles/images/favicons/apple-touch-icon-152x152.png" />
    <link rel="apple-touch-icon-precomposed" sizes="144x144" href="../StaticFiles/images/favicons/apple-touch-icon-144x144.png" />
    <link rel="apple-touch-icon-precomposed" sizes="120x120" href="../StaticFiles/images/favicons/apple-touch-icon-120x120.png" />
    <link rel="apple-touch-icon-precomposed" sizes="114x114" href="../StaticFiles/images/favicons/apple-touch-icon-114x114.png" />
    <link rel="apple-touch-icon-precomposed" sizes="72x72" href="../StaticFiles/images/favicons/apple-touch-icon-72x72.png" />
    <link rel="apple-touch-icon-precomposed" href="../StaticFiles/images/favicons/apple-touch-icon.png" />
    <meta name="msapplication-TileColor" content="#222c37" />
    <meta name="msapplication-TileImage" content="../StaticFiles/images/favicons/tileicon-144x144.png" />
    <script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-2854981-1']);
  _gaq.push(['_setDomainName', 'unity3d.com']);
  _gaq.push(['_trackPageview']);
  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
  </script>
    <script type="text/javascript" src="../StaticFiles/js/jquery.js">
    </script>
    <script type="text/javascript" src="docdata/toc.js">//toc</script>
    <!--local TOC-->
    <script type="text/javascript" src="docdata/global_toc.js">//toc</script>
    <!--global TOC, including other platforms-->
    <script type="text/javascript" src="../StaticFiles/js/core.js">
    </script>
    <link href="http://fonts.googleapis.com/css?family=Open+Sans:400,700,400italic" rel="stylesheet" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../StaticFiles/css/core.css" />
  </head>
  <body>
    <div class="header-wrapper">
      <div id="header" class="header">
        <div class="content">
          <div class="spacer">
            <div class="menu">
              <div class="logo">
                <a href="http://docs.unity3d.com">
                </a>
              </div>
              <div class="search-form">
                <form action="30_search.html" method="get" class="apisearch">
                  <input type="text" name="q" placeholder="Search scripting..." autosave="Unity Reference" results="5" class="sbox field" id="q">
                  </input>
                  <input type="submit" class="submit">
                  </input>
                </form>
              </div>
              <ul>
                <li>
                  <a href="http://docs.unity3d.com">Overview</a>
                </li>
                <li>
                  <a href="../Manual/index.html">Manual</a>
                </li>
                <li>
                  <a href="../ScriptReference/index.html" class="selected">Scripting API</a>
                </li>
              </ul>
            </div>
          </div>
          <div class="more">
            <div class="filler">
            </div>
            <ul>
              <li>
                <a href="http://unity3d.com/">unity3d.com</a>
              </li>
            </ul>
          </div>
        </div>
      </div>
      <div class="toolbar">
        <div class="content clear">
          <div class="lang-switcher hide">
            <div class="current toggle" data-target=".lang-list">
              <div class="lbl">Language: <span class="b">English</span></div>
              <div class="arrow">
              </div>
            </div>
            <div class="lang-list" style="display:none;">
              <ul>
                <li>
                  <a href="">English</a>
                </li>
              </ul>
            </div>
          </div>
          <div class="script-lang">
            <ul>
              <li class="selected" data-lang="CS">C#</li>
              <li data-lang="JS">JS</li>
            </ul>
            <div id="script-lang-dialog" class="dialog hide">
              <div class="dialog-content clear">
                <h2>Script language</h2>
                <div class="close">
                </div>
                <p class="clear">Select your preferred scripting language. All code snippets will be displayed in this language.</p>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div id="master-wrapper" class="master-wrapper clear">
      <div id="sidebar" class="sidebar">
        <div class="sidebar-wrap">
          <div class="content">
            <div class="sidebar-menu">
              <div class="toc">
                <h2>Scripting API</h2>
              </div>
            </div>
            <p>
              <a href="40_history.html" class="cw">History</a>
            </p>
          </div>
        </div>
      </div>
      <div id="content-wrap" class="content-wrap">
        <div class="content-block">
          <div class="content">
            <div class="section">
              <div class="mb20 clear">
                <h1 class="heading inherit">WWWForm</h1>
                <div class="clear">
                </div>
                <p class="cl mb0 left mr10">Namespace: UnityEngine</p>
                <div class="clear">
                </div>
                <div class="suggest">
                  <a class="blue-btn sbtn">Suggest a change</a>
                  <div class="suggest-wrap rel hide">
                    <div class="loading hide">
                      <div>
                      </div>
                      <div>
                      </div>
                      <div>
                      </div>
                    </div>
                    <div class="suggest-success hide">
                      <h2>Success!</h2>
                      <p>Thank you for helping us improve the quality of Unity Documentation. Although we cannot accept all submissions, we do read each suggested change from our users and will make updates where applicable.</p>
                      <a class="gray-btn sbtn close">Close</a>
                    </div>
                    <div class="suggest-failed hide">
                      <h2>Sumbission failed</h2>
                      <p>For some reason your suggested change could not be submitted. Please <a>try again</a> in a few minutes. And thank you for taking the time to help us improve the quality of Unity Documentation.</p>
                      <a class="gray-btn sbtn close">Close</a>
                    </div>
                    <div class="suggest-form clear">
                      <label for="suggest_name">Your name</label>
                      <input id="suggest_name" type="text">
                      </input>
                      <label for="suggest_email">Your email</label>
                      <input id="suggest_email" type="email">
                      </input>
                      <label for="suggest_body" class="clear">Suggestion <span class="r">*</span></label>
                      <textarea id="suggest_body" class="req">
                      </textarea>
                      <button id="suggest_submit" class="blue-btn mr10">Submit suggestion</button>
                      <p class="mb0">
                        <a class="cancel left lh42 cn">Cancel</a>
                      </p>
                    </div>
                  </div>
                </div>
                <a href="" class="switch-link gray-btn sbtn left hide">Switch to Manual</a>
                <div class="clear">
                </div>
              </div>
              <div class="subsection">
                <div class="signature">
                  <div class="signature-JS sig-block">
                  </div>
                  <div class="signature-CS sig-block">
                  </div>
                </div>
              </div>
              <div class="subsection">
                <h2>Description</h2>
                <p>Helper class to generate form data to post to web servers using the <a href="WWW.html">WWW</a> class.</p>
              </div>
              <div class="subsection">
      <pre class="codeExampleJS">// Grab a screen shot and upload it to a CGI script.
// The CGI script must be able to hande form uploads.<br /><br />var screenShotURL= "http://www.my-server.com/cgi-bin/screenshot.pl";<br /><br />// Take a screen shot immediately
function Start() {
    UploadPNG();
}<br /><br />function UploadPNG() {
    // We should only read the screen after all rendering is complete
    yield <a href="WaitForEndOfFrame.html">WaitForEndOfFrame</a>();<br /><br />    // Create a texture the size of the screen, RGB24 format
    var width = <a href="Screen-width.html">Screen.width</a>;
    var height = <a href="Screen-height.html">Screen.height</a>;
    var tex = new <a href="Texture2D.html">Texture2D</a>( width, height, <a href="TextureFormat.RGB24.html">TextureFormat.RGB24</a>, false );
    // Read screen contents into the texture
    tex.ReadPixels( <a href="Rect.html">Rect</a>(0, 0, width, height), 0, 0 );
    tex.Apply();<br /><br />    // Encode texture into PNG
    var bytes = tex.EncodeToPNG();
    Destroy( tex );<br /><br />    // Create a Web Form
    var form = new <a href="WWWForm.html">WWWForm</a>();
    form.AddField("frameCount", Time.frameCount.ToString());
    form.AddBinaryData("fileUpload", bytes, "screenShot.png", "image/png");<br /><br />    // Upload to a cgi script
    var w = <a href="WWW.html">WWW</a>(screenShotURL, form);
    yield w;
    if (!String.IsNullOrEmpty(w.error))
        print(w.error);
    else
        print("Finished Uploading Screenshot");
}</pre>
      <pre class="codeExampleCS">public class WWWFormImage : <a href="MonoBehaviour.html">MonoBehaviour</a> {<br /><br />	public string screenShotURL= "http://www.my-server.com/cgi-bin/screenshot.pl";<br /><br />	// Use this for initialization
	void Start () {
		StartCoroutine(UploadPNG());
	}
	
	IEnumerator UploadPNG() {
		// We should only read the screen after all rendering is complete
		yield return new <a href="WaitForEndOfFrame.html">WaitForEndOfFrame</a>();<br /><br />		// Create a texture the size of the screen, RGB24 format
		int width = <a href="Screen-width.html">Screen.width</a>;
		int height = <a href="Screen-height.html">Screen.height</a>;
		var tex = new <a href="Texture2D.html">Texture2D</a>( width, height, <a href="TextureFormat.RGB24.html">TextureFormat.RGB24</a>, false );<br /><br />		// Read screen contents into the texture
		tex.ReadPixels( new <a href="Rect.html">Rect</a>(0, 0, width, height), 0, 0 );
		tex.Apply();<br /><br />		// Encode texture into PNG
		byte[] bytes = tex.EncodeToPNG();
		Destroy( tex );<br /><br />		// Create a Web Form
		<a href="WWWForm.html">WWWForm</a> form = new <a href="WWWForm.html">WWWForm</a>();
		form.AddField("frameCount", Time.frameCount.ToString());
		form.AddBinaryData("fileUpload", bytes, "screenShot.png", "image/png");<br /><br />		// Upload to a cgi script
		<a href="WWW.html">WWW</a> w = new <a href="WWW.html">WWW</a>(screenShotURL, form);
		yield return w;
		if (!string.IsNullOrEmpty(w.error)) {
			print(w.error);
		}
		else {
			print("Finished Uploading Screenshot");
		}
	}
}</pre>
    </div>
              <div class="subsection">
                <p>Here is a sample script that retrieves the high scores stored
in a table in an SQL database.</p>
              </div>
              <div class="subsection">
      <pre class="codeExampleJS">// This example assumes that the user has entered his name into a
// variable called <code class="varname">name</code> and that <code class="varname">score</code> contains the user's current
// score.<br /><br />var highscore_url = "http://www.my-site.com/highscores.pl";
var playName = "Player 1";
var score = -1;<br /><br />function Start() {
	// Create a form object for sending high score data to the server
	var form = new <a href="WWWForm.html">WWWForm</a>();
	// Assuming the perl script manages high scores for different games
	form.AddField( "game", "MyGameName" );
	 // The name of the player submitting the scores
	form.AddField( "playerName", playName );
	 // The score
	form.AddField( "score", score );<br /><br />	// Create a download object
	var download = new <a href="WWW.html">WWW</a>( highscore_url, form );<br /><br />	// Wait until the download is done
	yield download;<br /><br />	if(download.error) {
		print( "Error downloading: " + download.error );
		return;
	} else {
		// show the highscores
		<a href="Debug.Log.html">Debug.Log</a>(download.text);
	}
}</pre>
      <pre class="codeExampleCS">public class WWWFormScore : <a href="MonoBehaviour.html">MonoBehaviour</a> {
	string highscore_url = "http://www.my-site.com/highscores.pl";
	string playName = "Player 1";
	int score = -1;<br /><br />	// Use this for initialization
	IEnumerator Start () {
		// Create a form object for sending high score data to the server
		<a href="WWWForm.html">WWWForm</a> form = new <a href="WWWForm.html">WWWForm</a>();
		// Assuming the perl script manages high scores for different games
		form.AddField( "game", "MyGameName" );
		// The name of the player submitting the scores
		form.AddField( "playerName", playName );
		// The score
		form.AddField( "score", score );<br /><br />		// Create a download object
		<a href="WWW.html">WWW</a> download = new <a href="WWW.html">WWW</a>( highscore_url, form );<br /><br />		// Wait until the download is done
		yield return download;<br /><br />		if(!string.IsNullOrEmpty(download.error)) {
			print( "Error downloading: " + download.error );
		} else {
			// show the highscores
			<a href="Debug.Log.html">Debug.Log</a>(download.text);
		}
	}
}</pre>
    </div>
              <div class="subsection">
                <p>Here is a sample Perl script that processes the high scores stored
in a table in an SQL database.</p>
              </div>
              <div class="subsection">
      <pre class="codeExampleRaw">#!/usr/bin/perl
# The SQL database needs to have a table called highscores
# that looks something like this:
#
#   CREATE TABLE highscores (
#     game varchar(255) NOT NULL,
#     player varchar(255) NOT NULL,
#     score integer NOT NULL
#   );
#
use strict;
use CGI;
use DBI;<br /><br /># Read form data etc.
my $cgi = new CGI;<br /><br /># The results from the high score script will be in plain text
print $cgi-&gt;header("text/plain");<br /><br />my $game = $cgi-&gt;param('game');
my $playerName = $cgi-&gt;param('playerName');
my $score = $cgi-&gt;param('score');<br /><br />exit 0 unless $game; # This parameter is required<br /><br /># Connect to a database
my $dbh = DBI-&gt;connect( 'DBI:mysql:databasename', 'username', 'password' )
	|| die "Could not connect to database: $DBI::errstr";<br /><br /># Insert the player score if there are any
if( $playerName &amp;&amp; $score) {
	$dbh-&gt;do( "insert into highscores (game, player, score) values(?,?,?)",
		undef, $game, $playerName, $score );
}<br /><br /># Fetch the high scores
my $sth = $dbh-&gt;prepare(
	'SELECT player, score FROM highscores WHERE game=? ORDER BY score desc LIMIT 10' );
$sth-&gt;execute($game);
while (my $r = $sth-&gt;fetchrow_arrayref) {
	print join(':',@$r),"\n"
}</pre>
    </div>
              <div class="subsection">
                <h2>Variables</h2>
                <table class="list">
    <tr><td class="lbl"><a href="WWWForm-data.html">data</a></td><td class="desc">(Read Only) The raw data to pass as the POST request body when sending the form.</td></tr>
    <tr><td class="lbl"><a href="WWWForm-headers.html">headers</a></td><td class="desc">(Read Only) Returns the correct request headers for posting the form using the WWW class.</td></tr>
  </table>
              </div>
              <div class="subsection">
                <h2>Constructors</h2>
                <table class="list">
    <tr><td class="lbl"><a href="WWWForm-ctor.html">WWWForm</a></td><td class="desc">Creates an empty WWWForm object.</td></tr>
  </table>
              </div>
              <div class="subsection">
                <h2>Public Functions</h2>
                <table class="list">
    <tr><td class="lbl"><a href="WWWForm.AddBinaryData.html">AddBinaryData</a></td><td class="desc">Add binary data to the form.</td></tr>
    <tr><td class="lbl"><a href="WWWForm.AddField.html">AddField</a></td><td class="desc">Add a simple field to the form.</td></tr>
  </table>
              </div>
            </div>
            <div class="footer-wrapper">
              <div class="footer clear">
                <div class="copy">Copyright © 2014 Unity Technologies</div>
                <div class="menu">
                  <a href="http://unity3d.com/learn">Learn</a>
                  <a href="http://unity3d.com/community">Community</a>
                  <a href="http://unity3d.com/asset-store">Asset Store</a>
                  <a href="https://store.unity3d.com">Buy</a>
                  <a href="http://unity3d.com/unity/download">Download</a>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </body>
</html>